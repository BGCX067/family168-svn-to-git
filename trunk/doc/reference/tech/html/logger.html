<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>&#31532;&nbsp;19&nbsp;&#31456;&nbsp;&#26085;&#24535;</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><style type="text/css">
body { background-image: url('images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="start" href="index.html" title="Leona"><link rel="up" href="index.html" title="Leona"><link rel="prev" href="osgi.html" title="&#31532;&nbsp;18&nbsp;&#31456;&nbsp;OSGI"><link rel="next" href="cache.html" title="&#31532;&nbsp;20&nbsp;&#31456;&nbsp;&#32531;&#23384;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" xmlns:fo="http://www.w3.org/1999/XSL/Format" style="background-color:white;border:none;height:73px;border:1px solid black;"><a style="border:none;" href="http://www.family168.com/" title="Family168"><img src="images/family168.png" border="0"></img></a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">&#31532;&nbsp;19&nbsp;&#31456;&nbsp;&#26085;&#24535;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="osgi.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="cache.html">&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="chapter" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title"><a name="logger"></a>&#31532;&nbsp;19&nbsp;&#31456;&nbsp;&#26085;&#24535;</h2></div></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e2038"></a>19.1.&nbsp;log4j</h2></div></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2040"></a>19.1.1.&nbsp;Spring&#23545;log4j&#30340;&#20960;&#20010;&#22686;&#24378;</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#27880;&#24847;</h3><p>&#20010;&#20154;&#24314;&#35758;&#37117;&#19981;&#35201;&#20351;&#29992;&#12290;</p></div><div class="itemizedlist"><ul type="disc"><li><p>&#23450;&#26102;&#21047;&#26032;log4j.properties&#65292;&#26080;&#39035;&#37325;&#21551;&#26381;&#21153;&#22120;&#26356;&#26032;log4j&#35774;&#32622;&#12290;&#34429;&#28982;&#36825;&#26159;&#20010;J2EE Best Practice&#65292;&#20294;&#22312;Spring&#30340;JavaDoc&#37324;&#27880;&#26126;&#20102;&#19981;&#25512;&#33616;&#29992;&#20110;&#29983;&#20135;&#29615;&#22659;&#65292;&#22240;&#20026;&#26381;&#21153;&#22120;&#37325;&#21551;&#30340;&#26102;&#20505;&#65292;&#37027;&#26465;watch thread&#19981;&#20250;&#20851;&#38381;&#12290;</p></li><li><p>&#23558;log4j.properties&#25991;&#20214;&#25918;&#22312;WEB-INF/log4j.properties&#12290;</p><p>&#36825;&#31181;&#22686;&#24378;&#30475;&#19981;&#20986;&#26377;&#20160;&#20040;&#22909;&#22788;&#65292;&#32780;&#19988;&#22914;&#26524;&#25918;WEB-INF&#65292;&#27979;&#35797;&#30340;&#26102;&#20505;&#23601;&#19981;&#33021;&#36755;&#20986;log4j&#20449;&#24687;&#20102;&#65292;&#38500;&#38750;&#20687;Appfuse&#37027;&#26679;&#25226;WEB-INF&#20063;&#35774;&#20026;class path&#65292;&#19981;&#36807;&#36825;&#31181;&#35774;&#27861;&#21482;&#36866;&#29992;&#20110;Ant&#33050;&#26412;&#30340;&#24773;&#20917;&#12290;</p></li><li><p>&#36890;&#36807;&#35774;&#23450;{web.root}&#36825;&#26679;&#30340;&#31995;&#32479;&#21464;&#37327;&#65292;&#23558;log&#25991;&#20214;&#25918;&#21040;&#39033;&#30446;&#30340;WEB-INF&#30446;&#24405;&#20013;</p><pre class="programlisting">
log4j.appender.logfile.File=${oa.root}/WEB-INF/logs/oa.log
                    </pre><p>&#36825;&#26679;&#20570;&#30340;&#22909;&#22788;&#26159;&#36335;&#24452;&#27604;&#36739;&#31283;&#23450;&#65292;&#20294;&#22914;&#26524;&#26159;war&#24335;&#30340;&#37096;&#32626;&#65292;&#27599;&#27425;&#37325;&#26032;&#37096;&#32626;&#30340;&#26102;&#20505;&#23601;&#20250;&#25226;&#21407;&#26469;&#30340;log&#25991;&#20214;&#20840;&#37096;&#21024;&#25481;&#65292;&#36935;&#19978;jboss &#36825;&#31181;&#19981;&#35299;&#21387;war&#21253;&#30340;&#24212;&#29992;&#26381;&#21153;&#22120;&#23601;&#26356;&#20250;&#20986;&#38169;&#65292;&#25152;&#20197;&#25226;log&#25991;&#20214;&#25918;WEB-INF/logs&#19981;&#26159;&#19968;&#20010;&#22909;&#30340;&#36873;&#25321;&#12290;</p></li></ul></div><p>&#20854;&#23454;logfile&#36335;&#24452;&#30340;&#35268;&#21017;&#26159;&#65292;&#22914;&#26524;&#19981;&#26159;&#32477;&#23545;&#36335;&#24452;&#65292;&#23601;&#20197;&#24212;&#29992;&#36816;&#34892;&#30340;&#30446;&#24405;&#20316;&#20026;&#30456;&#23545;&#36335;&#24452;&#30340;&#26681;&#30446;&#24405;&#12290;</p><p>&#21487;&#20197;&#36825;&#26679;&#23450;&#20041;&#65292;&#19968;&#33324;&#23601;&#25351;&#21521;tomcat&#21644;&#24456;&#22810;&#24212;&#29992;&#26381;&#21153;&#22120;&#30340;logs&#30446;&#24405;&#65306;</p><pre class="programlisting">
log4j.appender.logfile.File=../logs/oa.log
            </pre></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2057"></a>19.1.2.&nbsp;&#40664;&#35748;&#20889;&#20837;&#25805;&#20316;&#21592;ID</h3></div></div></div><p>&#27604;&#22914;&#22312;&#19968;&#20010;ServletFilter&#37324;&#23454;&#29616;&#22914;&#19979;&#20195;&#30721;</p><pre class="programlisting">
Customer customer = (Customer) session.getAttribute("customer");
MDC.put("userid", customer.getLoginid());
            </pre><p>&#21017;log4j&#20250;&#32447;&#31243;&#23433;&#20840;&#30340;&#25226;cusomer id&#20889;&#20837;MDC&#30340;userId&#21464;&#37327;&#20013;&#65292;&#32780;userID&#21464;&#37327;&#30340;&#20351;&#29992;&#35265;&#19979;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2062"></a>19.1.3.&nbsp;&#24573;&#30053;&#26576;&#20123;&#31867;&#24211;&#26694;&#26550;&#30340;&#19981;&#24517;&#35201;&#30340;&#20449;&#24687;</h3></div></div></div><p>&#25511;&#21046;&#31532;&#19977;&#26041;&#26694;&#26550;&#31867;&#24211;&#30340;logging level&#65292;&#21487;&#20197;&#36991;&#20813;&#28385;&#23631;&#37117;&#26159;&#19981;&#37325;&#35201;&#30340;info&#65292;&#25226;&#30495;&#27491;&#37325;&#35201;&#30340;&#20449;&#24687;&#25513;&#30422;&#20102;&#12290;</p><pre class="programlisting">
# Changing the log level to DEBUG when debug
log4j.logger.org.springframework=WARN
# Changing the log level to DEBUG will display SQL Hibernate generated
log4j.logger.org.hibernate=WARN
log4j.logger.org.hibernate.SQL=ERROR
            </pre></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2066"></a>19.1.4.&nbsp;&#25226;&#37325;&#35201;&#30340;&#19994;&#21153;&#26085;&#24535;&#24322;&#27493;&#25209;&#37327;&#20889;&#20837;&#25968;&#25454;&#24211;</h3></div></div></div><p>&#37197;&#32622;&#25991;&#20214;&#31034;&#20363;:</p><pre class="programlisting">
log4j.logger.business=INFO,db
log4j.appender.db=org.apache.log4j.jdbc.JDBCAppender
log4j.appender.db.BufferSize=10
log4j.appender.db.URL=jdbc:hsqldb:res:/hsqldb/bookstore
log4j.appender.db.driver=org.hsqldb.jdbcDriver
log4j.appender.db.user=sa
log4j.appender.db.password=
log4j.appender.db.sql=INSERT INTO SS_LOG4J_LOG (PRIORITY,LOGDATE,CLASS,METHOD,MSG) VALUES('%p','%d{yyyy-MM-dd HH:mm:ss}','%C','%M','%m')
log4j.appender.db.layout=org.apache.log4j.PatternLayout
            </pre><p>log4j&#25552;&#20379;&#20102;&#31616;&#21333;&#28789;&#27963;&#19988;&#19981;&#24433;&#21709;&#24615;&#33021;&#30340;&#26426;&#21046;, &#23558;&#37325;&#35201;&#19994;&#21153;&#26085;&#24535;&#20889;&#20837;&#25968;&#25454;&#24211;&#65292;&#26041;&#20415;&#26085;&#21518;&#30340;&#26597;&#35810;&#65306;</p><p>&#24314;&#31435;&#19968;&#20010;&#20219;&#24847;&#21629;&#21517;&#30340;&#26085;&#24535;&#35760;&#24405;&#34920;&#65292;&#22312;log4j.properties&#37324;&#35774;&#32622;&#36830;&#25509;&#21442;&#25968;&#65292;&#26681;&#25454;&#21018;&#25165;&#24314;&#30340;&#34920;&#21517;&#21015;&#21517;&#65292;&#32534;&#20889;&#25554;&#20837;&#30340;&#35821;&#21477;&#12290;</p><p>BufferSize=10 &#36825;&#26679;&#30340;&#21442;&#25968;&#21487;&#20197;&#35753;&#26085;&#24535;&#24322;&#27493;&#25209;&#37327;&#20889;&#20837;&#65292;&#19981;&#20250;&#24433;&#21709;&#31995;&#32479;&#24615;&#33021;&#12290;</p><p>&#19994;&#21153;&#26085;&#24535;log&#26368;&#22909;&#19981;&#35201;&#29992;&#21407;&#26469;&#30340;package&#32467;&#26500;&#65292;&#32780;&#26159;&#22312;&#39033;&#30446;&#37324;&#21327;&#35843;&#19968;&#20010;&#29420;&#31435;&#30340;&#21517;&#23383;&#65292;&#22914;business&#12290;</p><pre class="programlisting">
Log buzzLog = LogFactory.getLog("business");
            </pre><p>&#33258;&#24049;&#26377;&#20960;&#28857;&#32771;&#34385;&#65292;&#26082;&#28982;&#23454;&#26102;&#20462;&#25913;&#26085;&#24535;&#32423;&#21035;&#26159;&#26368;&#20339;&#23454;&#36341;&#65292;&#20026;&#20160;&#20040;&#19981;&#24178;&#33030;&#25226;&#25968;&#25454;&#24211;&#37197;&#32622;&#20316;&#20026;&#31995;&#32479;&#37197;&#32622;&#30340;&#19968;&#37096;&#20998;&#20445;&#23384;&#36827;&#25968;&#25454;&#24211;&#21602;&#65311;&#36825;&#26679;&#19981;&#20294;&#21487;&#20197;&#23454;&#26102;&#20462;&#25913;&#65292;&#36824;&#21487;&#20197;&#20445;&#35777;&#31995;&#32479;&#37325;&#21551;&#21518;&#20381;&#28982;&#33719;&#24471;&#19978;&#27425;&#20462;&#25913;&#21518;&#30340;&#37197;&#32622;&#12290;</p></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e2076"></a>19.2.&nbsp;slf4j + logback</h2></div></div></div><p>slf4j&#30001;log4j&#20316;&#32773;Ceki&#24320;&#21457;&#65292;&#36880;&#27493;&#21462;&#20195;apahce commons logging&#12290;</p><p>logback&#30001;log4j&#20316;&#32773;Ceki&#24320;&#21457;&#65292;&#36880;&#27493;&#21462;&#20195;log4j&#12290;</p><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2080"></a>19.2.1.&nbsp;&#20248;&#21183;</h3></div></div></div><p>&#21313;&#20010;&#36716;&#31227;&#21040;logback&#30340;&#29702;&#30001;</p><p>slf4j&#25903;&#25345;&#21442;&#25968;&#21270;&#30340;logger.error("&#24080;&#21495;ID&#65306;{}&#19981;&#23384;&#22312;", userId);&#21578;&#21035;&#20102;if(logger.isDebugEnable()) &#26102;&#20195;&#12290;</p><p>&#21478;&#22806;logback&#30340;&#25972;&#20307;&#24615;&#33021;&#27604;log4j&#20063;&#36739;&#20339;&#65292;hibernate&#31561;&#39033;&#30446;&#24050;&#32463;&#37319;&#29992;&#20102;slf4j:</p><p>"&#26576;&#20123;&#20851;&#38190;&#25805;&#20316;&#65292;&#27604;&#22914;&#21028;&#23450;&#26159;&#21542;&#35760;&#24405;&#19968;&#26465;&#26085;&#24535;&#35821;&#21477;&#30340;&#25805;&#20316;&#65292;&#20854;&#24615;&#33021;&#24471;&#21040;&#20102;&#26174;&#33879;&#30340;&#25552;&#39640;&#12290;&#36825;&#20010;&#25805;&#20316;&#22312;LOGBack&#20013;&#38656;&#35201;3&#32435;&#31186;&#65292;&#32780;&#22312;Log4J&#20013;&#21017;&#38656;&#35201;30&#32435;&#31186;&#12290; LOGBack&#21019;&#24314;&#35760;&#24405;&#22120;&#65288;logger&#65289;&#30340;&#36895;&#24230;&#20063;&#26356;&#24555;&#65306;13&#27627;&#31186;&#65292;&#32780;&#22312;Log4J&#20013;&#38656;&#35201;23&#27627;&#31186;&#12290;&#26356;&#37325;&#35201;&#30340;&#26159;&#65292;&#23427;&#33719;&#21462;&#24050;&#23384;&#22312;&#30340;&#35760;&#24405;&#22120;&#21482;&#38656;94&#32435;&#31186;&#65292;&#32780; Log4J&#38656;&#35201;2234&#32435;&#31186;&#65292;&#26102;&#38388;&#20943;&#23569;&#21040;&#20102;1/23&#12290;"</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2086"></a>19.2.2.&nbsp;slf4J&#19982;&#26087;&#26085;&#24535;&#26694;&#26550;&#30340;&#20851;&#31995;</h3></div></div></div><div class="orderedlist"><ol type="1"><li><p>slf4j&#31561;&#20110;commons-logging&#65292;&#26159;&#21508;&#31181;&#26085;&#24535;&#23454;&#29616;&#30340;&#36890;&#29992;&#20837;&#21475;&#65292;&#20250;&#26681;&#25454;classpath&#20013;&#23384;&#22312;&#19979;&#38754;&#21738;&#19968;&#20010;Jar&#26469;&#20915;&#23450;&#20855;&#20307;&#30340;&#26085;&#24535;&#23454;&#29616;&#24211;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>logback-classic(&#40664;&#35748;&#30340;logback&#23454;&#29616;)</p></li><li><p>slf4j-jcl.jar(apache commons logging)</p></li><li><p>slf4j-logj12.jar(log4j 1.2.4)</p></li><li><p>slf4j-jdk14(java.util.logging)</p></li></ul></div></li><li><p>&#23558;&#25152;&#26377;&#20351;&#29992;&#26087;&#24335;&#26085;&#24535;API&#30340;&#31532;&#19977;&#26041;&#31867;&#24211;&#25110;&#26087;&#20195;&#30721;&#30340;&#26085;&#24535;&#35843;&#29992;&#36716;&#21040;slfj&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>jcl-over-slf4j.jar/jcl104-over-slf4j</p><p>apache commons logging 1.1.1/1.0.4&#65292;&#30452;&#25509;&#26367;&#25442;&#21363;&#21487;&#12290;</p></li><li><p>log4j-over-slf4j.jar</p><p>log4j&#65292;&#30452;&#25509;&#26367;&#25442;&#21363;&#21487;&#12290;</p></li><li><p>jul-to-slf4j</p><p>jdk logging&#65292;&#38656;&#35201;&#22312;&#31243;&#24207;&#24320;&#22987;&#26102;&#35843;&#29992;SLF4JBridgeHandler.install()&#26469;&#27880;&#20876;listener</p><p>&#21442;&#32771;JulOverSlf4jProcessor&#65292;&#21487;&#22312;applicationContext.xml&#20013;&#23450;&#20041;&#35813;bean&#26469;&#23454;&#29616;&#21021;&#22987;&#21270;&#12290;</p></li></ul></div></li></ol></div><p>&#27880;&#24847;&#21407;&#26377;&#30340;log4j.properites&#23558;&#22833;&#25928;&#65292;logback&#32593;&#31449;&#19978;&#25552;&#20379;&#36716;&#25442;&#22120;&#65292;&#25903;&#25345;&#20174;log4j.properties &#36716;&#25442;&#21040;logback.xml &#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2114"></a>19.2.3.&nbsp;logback.xml&#30340;&#21151;&#33021;&#19982;&#37197;&#32622;</h3></div></div></div><div class="orderedlist"><ol type="1"><li><p>&#23450;&#20041;&#21464;&#37327;</p><pre class="programlisting">
&lt;substitutionProperty name="log.base" value="../logs/helloworld" /&gt;   
                    </pre></li><li><p>JMX&#31649;&#29702;&#65292;logback&#25903;&#25345;&#20351;&#29992;JMX&#38543;&#26102;&#37325;&#36733;logback.xml&#25110;&#32773;&#21333;&#29420;&#35774;&#32622;&#26576;&#20010;package&#30340;level&#12290;</p><pre class="programlisting">
&lt;jmxConfigurator /&gt;
                    </pre></li><li><p>Appender&#37197;&#32622;</p><p>Rolling&#27599;&#22825;&#29983;&#25104;&#19968;&#20010;&#26085;&#24535;&#25991;&#20214;&#65292;&#26041;&#20415;&#25353;&#26085;&#26399;&#32763;&#26597;&#12290;&#26085;&#24535;&#25991;&#20214;&#20250;&#33258;&#21160;&#21387;&#32553;&#65292;&#23450;&#20041;&#25991;&#20214;&#21517;pattern&#26102;&#21152;&#19978;.zip&#21363;&#21487;&#12290;</p><p>Encoding&#40664;&#35748;&#20026;&#24179;&#21488;&#30340;&#32534;&#30721;&#65292;&#24314;&#35758;Console Appender&#20351;&#29992;&#40664;&#35748;&#20540;&#12290;</p><p>Tomcat&#21644;Glassfish&#20013;&#65292;&#35774;&#23450;&#26085;&#24535;&#36335;&#24452;&#20026;../logs/xxxx.log &#37117;&#33021;&#23558;&#26085;&#24535;&#25918;&#20837;&#24212;&#29992;&#26381;&#21153;&#22120;&#26412;&#36523;&#30340;logs&#30446;&#24405;&#12290;</p><pre class="programlisting">
&lt;appender name="logfile" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt;
    &lt;Encoding&gt;UTF-8&lt;/Encoding&gt;
    &lt;File&gt;${log.base}.log&lt;/File&gt;
    &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt;
        &lt;FileNamePattern&gt;${log.base}.%d{yyyy-MM-dd}.log.zip&lt;/FileNamePattern&gt;
    &lt;/rollingPolicy&gt;
    &lt;layout class="ch.qos.logback.classic.PatternLayout"&gt;
        &lt;pattern&gt;%date [%thread] %-5level %logger{80} - %msg%n&lt;/pattern&gt;
    &lt;/layout&gt;
&lt;/appender&gt;
                    </pre><p>&#29305;&#21035;&#35774;&#32622;&#26576;&#20010;logger&#25171;&#21360;&#21040;&#29305;&#27530;&#30340;log&#25991;&#20214;&#12290;&#27880;&#24847;&#65292;logger&#30340;appender&#40664;&#35748;&#26159;&#21472;&#21152;&#30340;&#65292;&#22914;&#26524;&#27809;&#26377;&#35774;&#32622;additivity="false"&#65292;&#20250;&#21516;&#26102;&#25171;&#21360;&#21040;stdout,logfile&#21644;webservice-logfile&#20013;&#12290;</p><pre class="programlisting">
&lt;logger name="org.apache.cxf.interceptor.LoggingOutInterceptor" additivity="false"&gt;
    &lt;level value="INFO" /&gt;
    &lt;appender-ref ref="webservice-logfile" /&gt;
&lt;/logger&gt;
                    </pre></li></ol></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2131"></a>19.2.4.&nbsp;slf4j&#21644;logback&#30340;&#20351;&#29992;</h3></div></div></div><div class="orderedlist"><ol type="1"><li><p>&#22914;&#26524;&#26085;&#24535;&#30340;&#21442;&#25968;&#36229;&#36807;3&#20010;&#65292;&#38656;&#35201;&#20889;&#25104;</p><pre class="programlisting">
Object[] params = {newVal, below, above};
logger.debug("Value {} was inserted between {} and {}.", params);
                    </pre></li><li><p>&#22240;&#20026;&#20869;&#37096;&#24050;&#20248;&#21270;&#65292;&#20316;&#32773;&#35748;&#20026;slf4j&#30340;logger&#19981;&#38656;&#35201;&#23450;&#20041;&#20026;static&#12290;</p></li><li><p>&#21487;&#35774;&#32622;&#32531;&#23384;&#21518;&#25209;&#37327;&#20889;&#26085;&#24535;&#25991;&#20214;(&#20294;&#26381;&#21153;&#22120;&#22914;&#26524;&#37325;&#21551;&#65292;&#21487;&#33021;&#20250;&#20002;&#22833;&#26410;&#20889;&#21040;&#30913;&#30424;&#30340;&#35760;&#24405;)</p></li><li><p>MDC&#65292;&#29992;Filter&#65292;&#23558;&#24403;&#21069;&#29992;&#25143;&#21517;&#31561;&#19994;&#21153;&#20449;&#24687;&#25918;&#20837;MDC&#20013;&#65292;&#22312;&#26085;&#24535;format&#23450;&#20041;&#20013;&#21363;&#21487;&#20351;&#29992;&#35813;&#21464;&#37327;&#12290;</p></li><li><p>JMS Appender&#29992;&#20110;&#21578;&#35686;, DB Appender&#29992;&#20110;&#19994;&#21153;&#26085;&#24535;&#31561;</p></li></ol></div><p>&#21487;&#20197;&#20351;&#29992;&#25554;&#20214;&#65292;&#22914;&#29983;&#25104;Log&#20195;&#30721;&#30340;Eclipse&#25554;&#20214;Log4E&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2146"></a>19.2.5.&nbsp;&#36873;&#22411;</h3></div></div></div><p>&#20351;&#29992;log4j&#20316;&#32773;&#30340;&#26032;&#20316;logback+slf4j&#65292;&#22240;&#20026;&#21487;&#20197;&#21442;&#25968;&#21270;&#30340;&#35821;&#21477;&#65292;&#19981;&#29992;&#20877;&#20026;&#20102;&#19969;&#28857;&#24615;&#33021;&#20889;&#20160;&#20040; if( logger.isDebugenable()) ....&#21478;&#22806;logback&#30340;&#25972;&#20307;&#24615;&#33021;&#20063;&#36739;&#20339;&#65292;Hibernate&#12289;Jetty&#31561;&#39033;&#30446;&#24050;&#32463;&#36801;&#31227;&#21040;&#20102;slf4j&#12290;</p><p>&#29305;&#21035;&#27880;&#24847;&#20351;&#29992;commons logging + log4j&#30340;&#31532;&#19977;&#26041;&#26694;&#26550;&#30340;&#26085;&#24535;&#25805;&#20316;&#20250;&#34987;&#25318;&#25130;&#24182;&#36716;&#21457;&#21040;logback&#20013;&#65292;&#22240;&#27492;&#21407;&#26377;&#30340;log4j.properties&#25991;&#20214;&#23558;&#22833;&#25928;&#65292;&#30495;&#27491;&#37197;&#32622;&#25991;&#20214;&#20026;logback.xml&#12290;</p><p>&#32780;&#21407;&#26469;&#20351;&#29992;java.util.logging&#30340;&#31532;&#19977;&#26041;&#26694;&#26550;(&#22914;CXF)&#65292;&#20351;&#29992;JulOverSlf4jProcessor&#36827;&#34892;&#25318;&#25130;&#12290;</p><p>logback.xml&#19982;log4j.xml&#24456;&#20687;&#65292;&#35814;&#32454;&#37197;&#32622;&#35265;&#26085;&#24535;&#30340;&#36164;&#26009;&#12290;</p><p>tomcat&#21644;glassfish&#20013;&#65292;&#35774;&#23450;&#26085;&#24535;&#36335;&#24452;&#20026;../logs/xxxx.log &#37117;&#33021;&#23558;&#26085;&#24535;&#25918;&#20837;&#24212;&#29992;&#26381;&#21153;&#22120;&#26412;&#36523;&#30340;logs&#30446;&#24405;&#12290;</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="osgi.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="cache.html">&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">&#31532;&nbsp;18&nbsp;&#31456;&nbsp;OSGI&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top">&nbsp;&#31532;&nbsp;20&nbsp;&#31456;&nbsp;&#32531;&#23384;</td></tr></table></div></body></html>