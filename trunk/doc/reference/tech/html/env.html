<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>&#31532;&nbsp;29&nbsp;&#31456;&nbsp;&#29615;&#22659;</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><style type="text/css">
body { background-image: url('images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="start" href="index.html" title="Leona"><link rel="up" href="index.html" title="Leona"><link rel="prev" href="check.html" title="&#31532;&nbsp;28&nbsp;&#31456;&nbsp;&#20195;&#30721;&#20998;&#26512;"><link rel="next" href="history.html" title="&#38468;&#24405;&nbsp;A.&nbsp;&#20462;&#25913;&#26085;&#24535;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" xmlns:fo="http://www.w3.org/1999/XSL/Format" style="background-color:white;border:none;height:73px;border:1px solid black;"><a style="border:none;" href="http://www.family168.com/" title="Family168"><img src="images/family168.png" border="0"></img></a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">&#31532;&nbsp;29&nbsp;&#31456;&nbsp;&#29615;&#22659;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="check.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="history.html">&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="chapter" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title"><a name="env"></a>&#31532;&nbsp;29&nbsp;&#31456;&nbsp;&#29615;&#22659;</h2></div></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e3544"></a>29.1.&nbsp;HSQLDB</h2></div></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3546"></a>29.1.1.&nbsp;&#27010;&#36848;</h3></div></div></div><p>&#36873;&#29992;HSQLDB(http://www.hsqldb.org/) &#22240;&#20026;</p><div class="itemizedlist"><ul type="disc"><li><p>&#25903;&#25345;&#23884;&#22871;&#26597;&#35810;&#22312;&#20869;&#30340;&#32477;&#22823;&#37096;&#20998;SQL&#26631;&#20934;</p></li><li><p>&#25903;&#25345;Indentity&#20027;&#38190;</p></li><li><p>&#25903;&#25345;&#20998;&#39029;&#65306;SELECT TOP 5 FROM .., SELECT LIMIT 0 10 FROM ...</p></li><li><p>&#20307;&#31215;&#23567;&#65292;&#36895;&#24230;&#24555;&#65292;&#26080;&#38656;&#29992;&#25143;&#23433;&#35013;&#30340;&#23884;&#20837;&#24335;&#25968;&#25454;&#24211;&#26041;&#20415;DEMO</p></li><li><p>&#25968;&#25454;&#24211;&#25991;&#20214;&#20026;&#30452;&#25509;&#30340;script&#25991;&#20214;&#20415;&#20110;&#31649;&#29702;&#65292;&#33021;&#22815;&#32534;&#30721;&#25511;&#21046;&#24320;&#20572;</p></li></ul></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3560"></a>29.1.2.&nbsp;&#19977;&#31181;&#20351;&#29992;&#27169;&#24335;</h3></div></div></div><div class="sect3" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="d4e3562"></a>29.1.2.1.&nbsp;Server&#27169;&#24335;</h4></div></div></div><p>&#21551;&#21160;&#19968;&#20010;&#21333;&#29420;&#30340;&#26381;&#21153;&#22120;&#31471;&#65292;&#30417;&#21548;&#23545;&#24212;&#31471;&#21475;&#12290;</p><pre class="programlisting">
"%JAVA_HOME%/bin/java" -classpath hsqldb.jar org.hsqldb.Server -database.0 user -dbname.0 user
                </pre><p>&#22312;server.properties&#20013;&#37197;&#32622;server.port=9002&#65292;&#23458;&#25143;&#31471;&#20351;&#29992;&#22914;&#19979;URL&#36830;&#25509;&#12290;</p><pre class="programlisting">
jdbc:hsqldb:hsql://localhost:9002/user
                </pre><p>&#22914;&#26377;&#22810;&#20010;&#25968;&#25454;&#24211;&#65292;&#21017;&#32487;&#32493;&#20889;&#21629;&#20196;&#34892;&#21442;&#25968;-database.1,-dbname.1</p></div><div class="sect3" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="d4e3569"></a>29.1.2.2.&nbsp;In-Process&#27169;&#24335;</h4></div></div></div><p>In-Process &#36827;&#31243;&#20869;&#27169;&#24335;&#22240;&#20026;&#19981;&#29992;&#32593;&#32476;&#36830;&#25509;&#65292;&#21487;&#20197;&#33719;&#24471;&#26356;&#39640;&#30340;&#36895;&#24230;&#12290;&#32780;&#19988;&#19981;&#38656;&#35201;&#29992;&#25143;&#25163;&#24037;&#21551;&#21160;&#25968;&#25454;&#24211;&#12290;</p><p>&#32570;&#28857;&#26159;&#19981;&#21487;&#20197;&#29992;DB&#24037;&#20855;&#23519;&#30475;&#25968;&#25454;&#24211;&#30340;&#24403;&#21069;&#24773;&#20917;&#12290;</p><p>In-Process&#30340;&#20351;&#29992;&#26041;&#24335;&#26159;&#19981;&#29992;&#36215;&#26381;&#21153;&#65292;&#30452;&#25509;&#29992;JDBC Driver&#36830;&#25509;URL&#65306;</p><pre class="programlisting">
jdbc:hsqldb:mem:.
                </pre><p>&#20063;&#21487;&#20197;&#20351;&#29992;&#25991;&#20214;&#20445;&#23384;&#25968;&#25454;&#12290;</p><pre class="programlisting">
jdbc:hsqldb:file:db
                </pre></div><div class="sect3" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="d4e3577"></a>29.1.2.3.&nbsp;&#20869;&#23384;&#20013;&#25968;&#25454;&#24211;</h4></div></div></div><p>&#35813;&#27169;&#24335;&#26082;&#20250;&#35835;&#21462;classpath&#19979;&#30340;script&#25991;&#20214;&#21021;&#22987;&#21270;&#25968;&#25454;&#24211;&#65292;&#21021;&#22987;&#21270;&#20043;&#21518;&#30340;&#25805;&#20316;&#37117;&#22312;&#20869;&#23384;&#20013;&#36827;&#34892;&#65292;&#19981;&#20250;&#26356;&#25913;&#21407;&#26469;&#30340;script&#65292;&#25152;&#20197;&#24456;&#36866;&#21512;&#29992;&#26469;&#28436;&#31034;&#12290;</p><p>&#19982;&#20869;&#23884;&#27169;&#24335;&#30456;&#21516;&#65292;&#19981;&#38656;&#35201;&#21551;&#21160;&#26381;&#21153;&#22120;&#31471;&#23601;&#21487;&#20197;&#36830;&#25509;&#12290;</p><pre class="programlisting">
jdbc:hsqldb:res:db
                </pre></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3582"></a>29.1.3.&nbsp;&#25968;&#25454;&#26597;&#35810;&#19982;&#31649;&#29702;&#24037;&#20855;</h3></div></div></div><p>HSQLDB&#33258;&#24102;&#30340;&#31649;&#29702;&#22120;&#26159;&#29992;swing&#20889;&#30340;&#65292;&#24456;&#19985;&#65292;&#40664;&#35748;&#29992;&#25143;&#21517;sa&#65292;&#23494;&#30721;&#20026;&#31354;&#12290;</p><p>&#20063;&#21487;&#20197;&#20351;&#29992;&#20854;&#20182;&#25903;&#25345;jdbc&#30340;&#23458;&#25143;&#31471;&#35775;&#38382;hsqldb&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3586"></a>29.1.4.&nbsp;Server&#27169;&#24335;&#38543;WebApp&#19968;&#36215;&#21551;&#21160;</h3></div></div></div><p>&#20889;&#19968;&#20010;listener&#65292;&#22312;&#39033;&#30446;&#21551;&#21160;&#30340;&#26102;&#20505;&#21551;&#21160;&#19968;&#20010;hsqldb&#30340;&#26381;&#21153;&#22120;&#31471;&#65292;&#20813;&#21435;&#20102;&#27599;&#27425;&#25163;&#24037;&#25805;&#20316;&#30340;&#40635;&#28902;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3589"></a>29.1.5.&nbsp;&#25968;&#25454;&#25991;&#20214;&#19982;&#25968;&#25454;&#23384;&#30424;</h3></div></div></div><p>HSQLDB&#30340;&#25968;&#25454;&#25991;&#20214;&#20026;&#19968;&#20010;&#25991;&#26412;&#30340;sql&#25991;&#20214;&#65292;&#38750;&#24120;&#26041;&#20415;&#30452;&#25509;&#25805;&#25511;&#12290;</p><p>&#22914;&#26524;&#35201;&#25968;&#25454;&#24211;&#24443;&#24213;&#23384;&#30424;&#21040;script&#25991;&#20214;&#65292;&#25191;&#34892;sql&#21629;&#20196;ShutDown&#12290;&#36825;&#20010;shutdown&#21487;&#20197;&#20687;update&#35821;&#21477;&#19968;&#26679;&#20351;&#29992;Statement&#25191;&#34892;&#65292;&#22914;&#26524;&#27809;&#26377;&#20351;&#29992;shutdown&#21629;&#20196;&#30452;&#25509;&#20851;&#38381;&#26381;&#21153;&#22120;&#31471;&#65292;&#32531;&#23384;&#20013;&#30340;&#25968;&#25454;&#20250;&#26469;&#19981;&#21450;&#20445;&#23384;&#21040;&#25991;&#20214;&#20013;&#32780;&#20002;&#22833;&#12290;</p></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e3593"></a>29.2.&nbsp;&#20351;&#29992;&#20854;&#20182;&#25968;&#25454;&#24211;</h2></div></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3595"></a>29.2.1.&nbsp;Derby</h3></div></div></div><p>Derby&#24050;&#22312;JDK6.0 &#20013;&#33258;&#24102;&#65292;&#25104;&#20026;&#23884;&#20837;&#24335;&#25968;&#25454;&#24211;&#30340;&#20107;&#23454;&#26631;&#20934;&#12290;</p><p>Derby&#26377;&#23884;&#20837;&#24335;&#19982;&#29420;&#31435;Server&#20004;&#31181;&#27169;&#24335;&#65292;&#20026;&#20102;&#36148;&#36817;&#26085;&#24120;&#30340;&#24320;&#21457;&#26102;Oracle/Mysql&#30340;&#29420;&#31435;&#27169;&#24335;&#65292;&#25105;&#20204;&#29992;&#20102;&#29420;&#31435;Server&#27169;&#24335;&#12290;</p><p>&#21551;&#21160;derby&#21629;&#20196;&#20869;&#23481;&#22914;&#19979;&#65306;</p><pre class="programlisting">
set CLASSPATH=lib\derby.jar;lib\derbynet.jar;
java org.apache.derby.drda.NetworkServerControl start
            </pre></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3601"></a>29.2.2.&nbsp;MySQL&#19982;Oracle</h3></div></div></div><p>&#24320;&#21457;&#23454;&#38469;&#39033;&#30446;&#26102;&#65292;&#38656;&#35201;&#23558;Derby&#26356;&#25442;&#20026;&#23454;&#38469;&#25968;&#25454;&#24211;&#65292;Hibernate&#25903;&#25345;&#22823;&#37096;&#20998;&#30340;&#25968;&#25454;&#24211;&#65292;&#20854;&#20013;Java&#31243;&#24207;&#21592;&#36873;&#29992;MySQL&#21644;Oracle&#30340;&#26368;&#22810;&#12290;</p><p>&#26356;&#25442;MySQL&#19982;Oracle &#27493;&#39588;&#22914;&#19979;&#65306;</p><div class="orderedlist"><ol type="1"><li><p>&#20462;&#25913;pom.xml &#20013;&#30340;JDBC Driver(&#22312;parent&#30340;pom.xml&#20013;&#24050;&#23450;&#20041;&#20854;&#29256;&#26412;&#21495;)</p><p>MySQL&#65306;</p><pre class="programlisting">
&lt;dependency&gt;
    &lt;groupId&gt;mysql&lt;/groupId&gt;
    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
&lt;/dependency&gt;
                    </pre><p>Oracle&#65306;</p><pre class="programlisting">
&lt;dependency&gt;
    &lt;groupId&gt;com.oracle&lt;/groupId&gt;
    &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;
&lt;/dependency&gt;
                    </pre></li><li><p>&#20462;&#25913;src/main/resource/applicationContext.xml&#20013;&#30340;JDBC&#25968;&#25454;&#24211;&#36830;&#25509;</p></li><li><p>&#20462;&#25913;src/main/resource/applicationContext.xml&#20013;&#30340;Hibernate Dialect&#65292;&#25442;&#25104;MySQL5InnoDBDialect&#65292;Oracle9Dialect</p></li><li><p>&#22312;&#24212;&#29992;&#26381;&#21153;&#22120;&#30340;&#25968;&#25454;&#24211;&#36830;&#25509;&#27744;&#20013;&#37197;&#32622;&#25968;&#25454;&#28304;</p></li><li><p>&#20462;&#25913;entity&#30340;ID&#29983;&#25104;&#31574;&#30053;</p></li></ol></div><p>&#27880;&#24847;Oracle&#20013;&#19968;&#33324;&#20250;&#20026;&#27599;&#20010;&#20027;&#35201;&#30340;&#34920;&#21019;&#24314;&#19968;&#20010;Sequence&#65292;&#25152;&#20197;&#32479;&#19968;&#23450;&#20041;IdEntity&#22522;&#31867;&#30340;&#20889;&#27861;&#19981;&#36866;&#21512;Oracle&#30340;&#24773;&#20917;&#65292;&#21487;&#23558;&#22522;&#31867;&#25913;&#20026;&#25509;&#21475;&#12290;</p><p>&#32780;&#20851;&#20110;Mysql&#19982;Oralce&#30340;&#20248;&#21270;&#26159;&#19968;&#20010;&#24456;&#22823;&#30340;&#35838;&#39064;&#65292;&#19981;&#22312;&#26412;&#25991;&#26723;&#20869;&#25551;&#36848;&#12290;</p></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e3622"></a>29.3.&nbsp;Ant&#32534;&#31243;&#25351;&#21335;</h2></div></div></div><p>ant&#26159;&#19968;&#20010;&#30334;&#23453;&#31665;&#65292;&#26085;&#24120;&#24037;&#20316;&#37117;&#21487;&#20197;&#20351;&#29992;&#23427;&#23436;&#25104;&#12290;&#20294;&#26159;&#22240;&#20026;&#22826;&#28789;&#27963;&#20102;&#65292;&#20027;&#35201;&#30340;&#39033;&#30446;&#27969;&#31243;&#31649;&#29702;&#36824;&#26159;&#22522;&#20110;maven2&#30340;&#35268;&#33539;&#12290;&#20687;&#19968;&#20010;&#39033;&#30446;&#65292;&#22914;&#26524;&#27809;&#26377;&#35268;&#33539;&#26368;&#21518;&#19968;&#23450;&#20250;&#21457;&#23637;&#21040;&#26080;&#27861;&#25910;&#25342;&#30340;&#22320;&#27493;&#12290;</p><p>&#26576;&#31181;&#24847;&#20041;&#19978;&#65292;&#36824;&#26159;&#20381;&#38752;ant-contrib&#25552;&#20379;&#30340;if&#21644;for&#20026;ant&#21152;&#24378;&#20102;&#32534;&#31243;&#33021;&#21147;&#12290;</p><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3626"></a>29.3.1.&nbsp;&#21464;&#37327;</h3></div></div></div><p>Ant&#37324;&#30340;&#21464;&#37327;&#26377;&#20010;&#35809;&#24322;&#30340;&#29305;&#24615;&#65292;&#19968;&#26086;&#34987;&#36171;&#20540;&#23601;&#19981;&#20250;&#25913;&#21464;&#65292;&#36825;&#20010;&#29305;&#24615;&#26377;&#26102;&#20505;&#24110;&#21161;&#24456;&#22823;&#65292;&#26377;&#26102;&#20505;&#35753;&#20154;&#24456;&#33510;&#24700;&#65292;&#19968;&#23450;&#35201;&#27880;&#24847;&#12290;&#21478;&#19968;&#26679;&#35201;&#27880;&#24847;&#30340;&#26159;&#65292;Ant&#37324;&#30340;&#21464;&#37327;&#21644;&#20854;&#20182;&#35821;&#35328;&#30340;&#21464;&#37327;&#19968;&#26679;&#65292;&#23384;&#22312;&#26377;&#25928;&#33539;&#22260;&#12290;</p><div class="orderedlist"><ol type="1"><li><p>&#30001;&#21629;&#20196;&#34892;&#36171;&#20540;</p><pre class="programlisting">
ant -Dtomcat.home
                    </pre></li><li><p>&#19982;&#29992;&#25143;&#20132;&#20114;&#36755;&#20837;&#65292;Input task</p><pre class="programlisting">
&lt;input message="&#35831;&#36873;&#25321;&#19968;&#20010;Target "
    validargs="compile,jar,test"
    addproperty="my.input"/&gt;
                    </pre></li><li><p>&#20174;propertis&#25991;&#20214;&#35835;&#21462;&#24182;&#23384;&#30424;&#65292;propertyfile task</p><pre class="programlisting">
&lt;propertyfile file="my.properties"&gt;
    &lt;entry key="my.home" default="."/&gt;
&lt;/propertyfile&gt;
                    </pre><p>&#22914;&#26524;my.properties &#19981;&#23384;&#22312;&#65292;&#29983;&#25104;my.properties&#25991;&#20214;&#65292;my.home=.&#12290;&#26377;&#19968;&#20010;&#29305;&#21035;&#26377;&#29992;&#30340;&#22320;&#26041;&#65306;&#26377;&#20123;properties&#25991;&#20214;&#30340;&#23646;&#24615;&#27599;&#20010;&#24320;&#21457;&#32773;&#37117;&#19981;&#21516;&#65292;&#19981;&#24819;&#25918;&#20837;svn&#65292;&#20294;&#21448;&#24819;&#21021;&#22987;&#21270;&#25968;&#20540;&#65292;&#21487;&#20197;&#29992;&#35813;&#21629;&#20196;&#12290;</p><pre class="programlisting">
&lt;propertyfile file="my.properties"&gt;
    &lt;entry key="my.home" value="....."/&gt;
&lt;/propertyfile&gt;
                    </pre><p>&#37325;&#26032;&#20889;&#20837;&#37197;&#32622;&#25991;&#20214;&#12290;</p></li></ol></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3642"></a>29.3.2.&nbsp;&#27969;&#31243;&#25511;&#21046;</h3></div></div></div><p>&#20027;&#35201;&#20381;&#38752;ant-contrib&#25552;&#20379;&#30340;if&#21644;for&#33410;&#28857;&#12290;</p><div class="orderedlist"><ol type="1"><li><p>if task</p><p>ant&#21407;&#26469;&#21487;&#20197;&#22312;target&#32423;&#36827;&#34892;if&#21028;&#26029;(unless,if&#23646;&#24615;)&#65292;&#20294;&#23454;&#22312;&#22826;&#19981;&#26041;&#20415;&#20102;&#12290;</p></li><li><p>Conditions</p><p>&#20294;Ant&#39044;&#20808;&#23553;&#35013;&#30340;&#19968;&#22534;condition&#24456;&#26159;&#24456;&#26041;&#20415;&#30340;&#12290;&#36825;&#20123;condition&#23436;&#20840;&#20174;&#23454;&#38469;&#20986;&#21457;&#65292;&#21253;&#25324;&#25991;&#20214;&#26159;&#21542;&#23384;&#22312;&#65292;http://localhost:8080&#26159;&#21542;&#36830;&#36890;&#37117;&#21487;&#20197;&#20316;&#20026;&#26465;&#20214;&#65292;&#35265;Ant&#30340;&#21442;&#32771;&#25163;&#20876;&#12290;</p></li><li><p>For task</p><p>&#25903;&#25345;"a,b,c,d" &#23383;&#31526;&#20018;&#25968;&#32452;&#24490;&#29615;&#19982;&#30446;&#24405;&#65292;Fileset&#24490;&#29615;&#12290;</p></li><li><p>Parallel task</p><p>Parallel&#38750;&#24120;&#26377;&#29992;&#65292;&#27604;&#22914;&#25105;&#24819;&#19968;&#36793;&#24320;tomcat&#65292;&#19968;&#36793;&#20570;&#21035;&#30340;&#65292;&#23601;&#38656;&#35201;&#20351;&#29992;&#23427;&#65292;&#21542;&#21017;&#23601;&#21482;&#26377;&#29992;spawn=true&#23646;&#24615;&#25226;tomcat&#25918;&#22312;&#21518;&#21488;&#36816;&#34892;&#12290;spawn&#26377;&#24456;&#22810;&#19981;&#22909;&#30340;&#22320;&#26041;&#65292;&#27604;&#22914;&#19981;&#33021;&#21363;&#26102;&#30475;&#21040;console&#20449;&#24687;&#65292;&#20572;&#27490;ant&#36816;&#34892;&#19981;&#33021;&#25226;tomcat&#20851;&#25481;&#31561;&#12290;</p><p>Parallel&#30456;&#24403;&#20110;&#19968;&#20010;&#23481;&#22120;&#65292;&#25918;&#22312;&#37324;&#38754;&#30340;&#27599;&#20010;task&#37117;&#20250;&#34987;&#24182;&#34892;&#25191;&#34892;&#12290;&#22914;&#26524;&#24819;&#25226;&#26576;&#20960;&#20010;task&#39034;&#24207;&#25191;&#34892;&#65292;&#29992;&#30456;&#24403;&#20110;()&#30340;Sequential task &#21253;&#36215;&#26469;&#12290;</p></li><li><p>Waitfor task</p><p>&#26242;&#20572;ant&#25191;&#34892;&#30452;&#21040;&#26465;&#20214;&#31526;&#21512;&#65292;&#27604;&#22914;&lt;waitfor&gt;&lt;http url=http://localhost:8080/&gt;&lt;/waitfor&gt;&#23601;&#20250;&#31561;&#24453;tomcat&#21551;&#21160;&#21518;&#25165;&#20250;&#32487;&#32493;&#24448;&#19979;&#25191;&#34892;&#12290;</p></li></ol></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3662"></a>29.3.3.&nbsp;&#20195;&#30721;&#23553;&#35013;</h3></div></div></div><p>ant &#20195;&#30721;&#26368;&#22522;&#26412;&#30340;&#23553;&#35013;&#26159;</p><div class="orderedlist"><ol type="1"><li><p>ant task&#65306;&#35843;&#29992;&#20854;&#20182;&#33050;&#26412;&#30340;&#20219;&#21153;&#65292;&#21487;&#35774;&#23450;dir&#19982;&#26159;&#21542;&#32487;&#25215;&#26412;&#33050;&#26412;&#30340;&#21464;&#37327;&#12290;</p></li><li><p>antcall task&#65306;&#35843;&#29992;&#26412;&#33050;&#26412;&#20869;&#20854;&#20182;task&#65292;&#21487;&#35774;&#32622;&#21442;&#25968;&#12290;</p></li><li><p>import task &#65306;&#23601;&#20687;&#20854;&#20182;&#35821;&#35328;&#30340;include&#19968;&#26679;&#65292;&#24341;&#20837;&#20854;&#20182;&#33050;&#26412;&#20869;&#23481;&#21040;&#26412;&#33050;&#26412;&#37324;&#12290;</p></li></ol></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3672"></a>29.3.4.&nbsp;extend</h3></div></div></div><div class="orderedlist"><ol type="1"><li><p>AntFetch,  AntCallBack task</p><p>ant-contrib&#36129;&#29486;&#65292;&#23545;&#24212;&#20110;Ant&#19982;AntCall&#12290;&#21407;&#29256;&#21482;&#33021;&#21521;&#34987;&#35843;&#29992;&#20989;&#25968;&#20256;&#36882;&#21464;&#37327;&#65292;&#20989;&#25968;&#25191;&#34892;&#21518;&#27809;&#21150;&#27861;return &#20540;&#12290;antcallback&#30340;&#35821;&#27861;&#22914;&#19979;</p><pre class="programlisting">
&lt;antcallback target="mytarget" return="myresult"/&gt;
                    </pre></li><li><p>Macrodef task</p><p>&#20316;&#20026;&#26368;&#23567;&#30340;&#23553;&#35013;&#21333;&#20301;&#65292;&#19982;&#20197;&lt;target&gt;&#23553;&#35013;&#65292;&lt;antcall target="xxx"&gt;&#35843;&#29992;&#24046;&#19981;&#22826;&#36828;&#65292;&#32454;&#24494;&#20043;&#22788;&#33258;&#34892;&#20307;&#39564;&#20102;&#12290;&#20010;&#20154;&#27604;&#36739;&#21916;&#27426;&#29992;macrodef&#12290;</p></li><li><p>Java task&#19982;Exec task&#30452;&#25509;&#25191;&#34892;Java&#31867;&#25110;&#31243;&#24207;</p><p>&#27880;&#24847;&#25191;&#34892;&#30446;&#24405;&#30340;&#23450;&#20041;&#65292;&#21478;&#22312;Windows&#19979;&#22914;&#26524;&#35201;&#30452;&#25509;&#36816;&#34892;dos&#31383;&#21475;&#20013;&#30340;&#21629;&#20196;&#65292;&#20197;&#19979;&#25351;&#20196;&#21551;&#21160;&#40664;&#35748;&#27983;&#35272;&#22120;&#35775;&#38382;localhost&#65306;</p><pre class="programlisting">
&lt;exec executable="cmd.exe"&gt;
  &lt;arg line="/c start http://localhost:8080"/&gt;
&lt;/exec&gt;
                    </pre></li><li><p>&#25193;&#23637;Ant&#30340;Task</p><p>&#25193;&#23637;ant task&#24456;&#31616;&#21333;&#65292;&#23454;&#29616;execute&#26041;&#27861;&#25191;&#34892;task&#65292;&#23454;&#29616;setter&#25509;&#21475;&#35753;ant&#26694;&#26550;&#25191;&#34892;&#23646;&#24615;&#27880;&#20837;&#12290;&#32487;&#25215;&#31245;&#24494;&#26377;&#28857;&#40635;&#28902;&#30340;&#26159;&#22810;&#23618;&#23884;&#22871;&#23646;&#24615;&#30340;&#27880;&#20837;&#12290;&#35814;&#32454;&#35831;&#30475;http://ant.apache.org/manual/developlist.html</p></li><li><p>&#25991;&#20214;&#25805;&#20316;</p><p>replace&#19982;copy &#26102;&#21152;&#20837;filter, &#37117;&#21487;&#20197;&#36827;&#34892;&#23383;&#31526;&#20018;&#26367;&#25442;.</p><p>concat&#22312;&#25991;&#20214;&#26411;&#28155;&#21152;&#20854;&#20182;&#25991;&#20214;&#30340;&#20869;&#23481;&#12290;</p></li></ol></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3693"></a>29.3.5.&nbsp;&#30475;&#28857;:</h3></div></div></div><div class="orderedlist"><ol type="1"><li><p>compile&#20013;&#30340;Java&#25991;&#20214;&#32534;&#35793;&#65292;ClassPath&#35774;&#32622;&#19982;&#22797;&#21046;&#20854;&#20182;&#21518;&#32512;&#21517;&#30340;&#36164;&#28304;&#25991;&#20214;&#12290;</p></li><li><p>war&#20013;&#30340;war&#25171;&#21253;&#65292;manifest&#25991;&#20214;&#29983;&#25104;&#19982; timestamp,buildnumber&#24212;&#29992;&#12290;</p></li><li><p>test&#20013;&#30340;unit test&#12290;</p></li><li><p>usage&#20013;&#30340;input&#35753;&#29992;&#25143;&#36755;&#20837;&#35201;&#25191;&#34892;&#30340;task, antcall&#25191;&#34892;&#12290;</p></li><li><p>macrodef&#31616;&#21270;IDE copy&#12290;</p></li></ol></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3706"></a>29.3.6.&nbsp;Ant-Contrib</h3></div></div></div><p>Ant-Contrib(&#32593;&#31449;)&#30340;&lt;If&gt;&#21644;&lt;For&gt;Task &#32477;&#23545;&#26159;&#20351;&#29992;Ant&#32534;&#20889;&#33050;&#26412;&#30340;&#26368;&#37325;&#35201;&#34917;&#20805;&#12290;</p><pre class="programlisting">
&lt;if&gt;
    &lt;os family="unix"/&gt;
    &lt;then&gt;
        &lt;property name="ext" value="sh"/&gt;
    &lt;/then&gt;
    &lt;else&gt;
        &lt;property name="ext" value="bat"/&gt;
    &lt;/else&gt;
&lt;/if&gt;
            </pre><p>&#20197;&#19979;&#19968;&#27573;&#24490;&#29615;plugins&#30446;&#24405;&#65292;&#25191;&#34892;Install&#33050;&#26412;</p><pre class="programlisting">
&lt;for param="plugindir"&gt;
    &lt;path&gt;
        &lt;dirset dir="plugins"&gt;
            &lt;depth max="0"/&gt;
        &lt;/dirset&gt;
    &lt;/path&gt;
    &lt;sequential&gt;
        &lt;exec executable="@{plugindir}/install.${ext}" dir="@{plugindir}"/&gt;
    &lt;/sequential&gt;
&lt;/for&gt;
            </pre></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3712"></a>29.3.7.&nbsp;&#29992;Ant&#35843;Maven&#31649;&#29702;JAR</h3></div></div></div><pre class="programlisting">
&lt;typedef resource="org/apache/maven/artifact/ant/antlib.xml" uri="urn:maven-artifact-ant"&gt;
    &lt;classpath&gt;
        &lt;pathelement location="lib/maven-artifact-ant-2.0.2-dep.jar"/&gt;
    &lt;/classpath&gt;
&lt;/typedef&gt;
&lt;artifact:dependencies pathId="maven.classpath" filesetId="maven.fileset"&gt;
    &lt;artifact:pom file="pom.xml"/&gt;
&lt;/artifact:dependencies&gt;

&lt;copy todir="lib/"&gt;
    &lt;fileset refid="maven.fileset"/&gt;
    &lt;mapper type="flatten"/&gt;
&lt;/copy&gt;
            </pre><p>&#31532;1&#21477;&#20174;maven-artifact-ant-2.0.2-dep.jar&#35835;antlib.xml&#65292;&#35835;&#20986;&#19968;&#22534;maven&#30340;task&#12290;</p><p>&#31532;2&#21477;&#20998;&#26512;pom.xml&#37324;&#30340;jar&#65292;&#22914;&#26524;&#27809;&#26377;&#23601;&#19978;http://repo1.maven.org/maven2 &#25226;jar&#19979;&#36733;&#21040;${user.home}/.m2/&#30446;&#24405;&#12290;&#24182;&#25226;&#25152;&#26377;jar&#23450;&#20041;&#25104;ant&#30340;fileset&#23545;&#35937;--maven.fileset&#12290;</p><p>&#31532;3&#21477;&#25226;maven.fileset&#23450;&#20041;&#30340;&#65292;&#25918;&#22312;${user.home}/.m2/&#37324;&#30340;jar&#25335;&#36125;&#21040;&#39033;&#30446;lib&#30446;&#24405;&#12290;</p><p>&#20010;&#20154;&#24863;&#35273;&#27604;&#36739;&#40481;&#32907;&#65292;&#19981;&#22914;&#32771;&#34385;&#21435;&#35797;&#35797;ivy&#12290;</p></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e3719"></a>29.4.&nbsp;Maven&#26500;&#24314;&#31649;&#29702;&#23454;&#36341;</h2></div></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3721"></a>29.4.1.&nbsp;&#20351;&#29992;&#27169;&#24335;</h3></div></div></div><p>&#22312;&#25345;&#32493;&#38598;&#25104;&#26102;&#65292;&#25512;&#33616;&#20351;&#29992;maven&#33050;&#26412;&#26469;&#27979;&#35797;&#12289;&#25171;&#21253;&#21644;&#37096;&#32626;&#39033;&#30446;(&#35814;&#35265;Maven Plugins&#36164;&#26009;)&#12290;</p><p>&#23454;&#38469;&#24320;&#21457;&#26102;&#65292;&#23601;&#31639;&#27809;&#26377;&#26412;&#22320;&#26381;&#21153;&#22120;&#65292;&#30452;&#25509;&#25226;.m2&#30446;&#24405;&#21457;&#36807;&#21435;&#20063;&#21487;&#20197;&#36215;&#21040;&#32479;&#19968;&#20381;&#36182;&#24211;&#30340;&#25928;&#26524;&#65292;&#26368;&#21518;&#35760;&#24471;&#32473;eclipse&#37197;&#32622;&#19968;&#20010;M2_REPO&#30340;&#21464;&#37327;&#65292;svn&#20013;&#23601;&#19981;&#29992;&#25918;jar&#21253;&#20102;&#12290;</p><p>&#23454;&#38469;&#20013;&#29992;maven2&#36824;&#26377;&#19968;&#20010;&#22909;&#22788;&#65292;&#23601;&#26159;&#26032;&#25163;&#19981;&#30693;&#36947;&#22914;&#20309;&#21521;pom.xml&#20013;&#28155;&#21152;&#20381;&#36182;&#65292;&#19981;&#20250;&#33258;&#20316;&#20027;&#24352;&#30340;&#28155;&#21152;&#20381;&#36182;&#65292;&#20943;&#23569;&#20102;&#20381;&#36182;&#20914;&#31361;&#30340;&#39118;&#38505;&#12290;</p><p>&#23578;&#26410;&#29992;&#36807;m2eclipse</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3727"></a>29.4.2.&nbsp;parent/pom.xml</h3></div></div></div><p>&#25152;&#26377;&#39033;&#30446;&#32487;&#25215;&#20110;parent/pom.xml &#25991;&#20214;&#65292;&#38598;&#20013;&#23450;&#20041;&#20102;&#25152;&#26377;&#30340;&#20179;&#24211;&#65292;&#25554;&#20214;&#65292;&#20381;&#36182;Jar&#30340;&#20844;&#20849;&#23646;&#24615;&#12290;</p><p>&#24403;&#26377;&#22810;&#20010;&#39033;&#30446;&#26102;&#65292;&#24314;&#35758;&#21333;&#29420;&#24314;&#31435;parent&#65292;&#19981;&#29992;&#22312;&#37324;&#36793;&#35774;&#32622;modules&#65292;&#36825;&#26679;&#21487;&#20197;&#36991;&#20813;&#27599;&#27425;&#20462;&#25913;parent&#37117;&#35201;&#29301;&#36830;&#20854;&#20182;&#27169;&#22359;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3731"></a>29.4.3.&nbsp;&#30446;&#24405;&#32467;&#26500;</h3></div></div></div><p>&#30446;&#24405;&#32467;&#26500;&#22522;&#26412;&#37319;&#29992;maven&#30340;&#40664;&#35748;&#35774;&#32622;&#65292;&#21807;&#26377;src/main/webapp&#37324;&#30340;&#30446;&#24405;&#23618;&#27425;&#22826;&#22810;&#20102;&#65292;&#32780;&#19988;&#21448;&#19981;&#33021;&#20687;java&#28304;&#25991;&#20214;&#37027;&#26679;&#22312;IDE&#37324;&#24555;&#25463;&#30340;&#26174;&#31034;&#65292;&#22240;&#27492;&#23558;&#25552;&#21319;&#21040;/webapp&#12290;</p><p>&#20010;&#20154;&#35748;&#20026;resouces&#30446;&#24405;&#21644;java&#30446;&#24405;&#36824;&#26159;&#20998;&#24320;&#30340;&#22909;&#65292;&#36164;&#28304;&#25991;&#20214;&#21333;&#29420;&#25918;&#32622;&#26356;&#23481;&#26131;&#31649;&#29702;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3735"></a>29.4.4.&nbsp;&#31169;&#26381;</h3></div></div></div><p>Nexus&#20316;&#20026;sonatype&#20844;&#21496;&#19977;&#23453;&#20043;&#19968;&#65292;jar&#25991;&#20214;&#20197;&#25991;&#20214;&#31995;&#32479;&#24418;&#24335;&#23384;&#25918;&#65292;&#35201;&#20248;&#20110;Artifactory&#12290;</p><p>&#24314;&#35758;&#27599;&#20010;&#37319;&#29992;Maven&#30340;&#22242;&#38431;&#37117;&#25645;&#24314;&#19968;&#20010;&#33258;&#24049;&#30340;&#31169;&#26381;&#65292;&#35814;&#32454;&#30340;&#35774;&#32622;&#26041;&#27861;&#35265;Maven&#36164;&#26009;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3739"></a>29.4.5.&nbsp;m2Ecipse&#25554;&#20214;</h3></div></div></div><p>&#23433;&#35013;0.9.6&#20197;&#19978;&#29256;&#26412;&#65292;&#21482;&#38656;Maven Embedder&#12289;Maven Intergration for Eclipse&#12289;Maven POM Editor&#12289;Maven POM XML Editor&#12289;Maven Intergration for WTP &#20116;&#20010;&#27169;&#22359;&#21363;&#21487;&#12290;</p><p>m2eclipse&#21487;&#20197;import maven&#25991;&#20214;&#22312;eclipse&#39033;&#30446;&#20013;&#26469;&#21019;&#24314;&#25972;&#20010;wtp&#39033;&#30446;&#65292;&#27604;&#36739;&#26041;&#20415;&#65292;&#32780;&#19988;&#19981;&#20250;&#20986;&#29616;&#36825;&#26679;&#37027;&#26679;&#19981;&#21512;&#25293;&#30340;&#22855;&#24618;&#20107;&#24773;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3743"></a>29.4.6.&nbsp;&#25554;&#20214;</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>Tomcat plugin: &#29992;&#20110;&#25345;&#32493;&#38598;&#25104;&#26102;&#23558;web&#39033;&#30446;&#37096;&#32626;&#21040;tomcat&#26381;&#21153;&#22120;&#65292;&#35814;&#35265;Maven Plugins&#36164;&#26009;&#12290;</p></li><li><p>SQL plugin:&#29992;&#20110;&#25191;&#34892;sql&#65292;&#35814;&#35265;/tools/derby/pom.xml&#12290;</p></li><li><p>Dependency:&#29992;&#20110;&#20998;&#26512;&#39033;&#30446;&#30340;&#20381;&#36182;jar&#65292;&#35814;&#35265;Maven&#36164;&#26009;&#12290;</p></li><li><p>Archetype: &#29992;&#20110;&#29983;&#25104;&#26032;&#39033;&#30446;&#65292;&#35814;&#35265;Maven Archetype&#12290;</p></li></ul></div></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e3754"></a>29.5.&nbsp;SVN</h2></div></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3756"></a>29.5.1.&nbsp;&#20248;&#28857;</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>&#23545;&#31354;&#30446;&#24405;&#65292;&#26080;&#35770;&#35201;&#30041;&#35201;&#21024;&#65292;&#37117;&#27604;only base file&#30340;CVS&#22909;&#12290;</p></li><li><p>&#21487;&#20197;&#25913;&#21517;&#65292;&#23545;&#20110;&#21916;&#27426;&#37325;&#26500;&#30340;&#21516;&#24535;&#27604;&#36739;&#26377;&#29992;&#65292;rename&#21518;&#20173;&#28982;&#21487;&#20197;&#26041;&#20415;&#30340;&#27604;&#36739;&#29256;&#26412;&#38388;&#24322;&#21516;&#65292;commit&#20449;&#24687;&#20063;&#26041;&#20415;&#20445;&#30041;&#12290;</p></li><li><p>&#25226;&#27599;&#27425;&#25552;&#20132;&#25414;&#32465;&#22312;&#19968;&#36215;&#65292;&#26085;&#21518;&#26597;&#35760;&#24405;&#26102;&#33021;&#30475;&#21040;&#21516;&#26102;&#25552;&#20132;&#30340;&#25991;&#20214;&#12290;&#23545;&#20110;&#19968;&#27425;&#25552;&#20132;&#19968;&#20010;issue&#30456;&#20851;&#25991;&#20214;&#30340;&#21516;&#23398;&#26469;&#35762;&#65292;&#36825;&#26159;&#20010;&#24456;&#23454;&#29992;&#30340;&#21151;&#33021;&#12290;Web&#24212;&#29992;&#21644;&#26700;&#38754;&#24212;&#29992;&#27604;&#65292;&#23601;&#26159;&#20998;&#23618;N&#22810;&#65292;&#19968;&#20010;&#25913;&#21160;&#24635;&#35201;&#25913;N&#20010;&#28304;&#30721;+&#37197;&#32622;&#25991;&#20214;&#65292;&#29616;&#22312;&#33021;&#32465;&#22312;&#19968;&#36215;&#20102;&#25402;&#19981;&#38169;&#12290;</p></li><li><p>http wav&#30340;&#36335;&#24452;&#28165;&#26224;&#65292;&#21457;&#24067;&#39033;&#30446;&#30340;&#36335;&#24452;&#24456;&#23481;&#26131;&#65292;&#21478;&#22806;&#29992;&#31616;&#21333;&#30340;&#30446;&#24405;&#27010;&#24565;&#20195;&#26367;&#20102;&#22797;&#26434;&#30340;&#20998;&#25903;&#19982;&#26631;&#31614;&#65292;&#32780;&#19988;&#20351;&#29992;&#26144;&#23556;&#65292;&#20351;&#24471;&#24320;&#20998;&#25903;&#20316;&#22791;&#20221;&#20043;&#31867;&#30340;&#19981;&#29992;&#25226;&#25968;&#25454;&#37325;&#26032;&#20256;&#19968;&#27425;&#65292;&#25104;&#26412;&#22909;&#20302;&#12290;</p></li><li><p>&#23567;&#28023;&#40863;&#20889;&#25552;&#20132;&#27880;&#37322;&#26102;&#23621;&#28982;&#26377;&#25991;&#20214;&#21517;auto complete&#65292;&#20108;&#36827;&#21046;&#25991;&#20214;&#20063;&#26159;&#21482;update&#24046;&#24322;&#65292;&#19981;update&#20840;&#37096;&#31561;&#31561;&#12290;</p></li></ul></div><p>&#19981;&#36807;&#28023;&#40863;&#20165;&#20165;&#25903;&#25345;&#19968;&#37096;&#20998;&#30340;svn&#21629;&#20196;&#65292;&#27604;&#22914;move&#23601;&#35201;&#33258;&#24049;&#25970;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3770"></a>29.5.2.&nbsp;&#22312;Ant&#20013;&#20351;&#29992;Subversion</h3></div></div></div><p>Ant&#26242;&#26102;&#27809;&#26377;Subversion&#30340;Task&#65292;&#38656;&#33258;&#34892;&#19979;&#36733;JavaSVN&#39033;&#30446;&#65292;&#20197;&#21629;&#20196;&#34892;&#24418;&#24335;&#25191;&#34892;&#12290;</p><pre class="programlisting">
&lt;target name="svn-export" depends="init" description="&#23548;&#20986;&#27905;&#20928;&#30340;SVN&#20179;&#24211;"&gt;
    &lt;delete dir="${release.exportdir}"/&gt;
    &lt;java classname="org.tmatesoft.svn.cli.SVN" dir="${basedir}" fork="true"&gt;
        &lt;arg value="export"/&gt;
        &lt;arg value="."/&gt;
        &lt;arg value="${release.exportdir}"/&gt;
        &lt;classpath&gt;
            &lt;pathelement location="lib/javasvn-cli.jar"/&gt;
            &lt;pathelement location="lib/javasvn.jar"/&gt;
        &lt;/classpath&gt;
    &lt;/java&gt;
&lt;/target&gt;
            </pre></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e3774"></a>29.6.&nbsp;Hudson&#25345;&#32493;&#38598;&#25104;</h2></div></div></div><p>Hudson&#27604;CI Server&#31062;&#23447;&#30340;CruiseControl&#26469;&#35828;&#65292;&#20840;&#22270;&#24418;&#21270;&#30340;&#31649;&#29702;&#30028;&#38754;&#32780;&#19981;&#26159;&#35752;&#21388;&#30340;XML&#37197;&#32622;&#25991;&#20214;&#65292;&#20197;&#21450;&#36229;&#24555;&#30340;&#21457;&#23637;&#36895;&#24230;&#37117;&#23436;&#32988;&#20102;CC&#12290;</p><p>Hudson&#21487;&#20197;&#36890;&#36807;&#31616;&#21333;&#30340;&#37197;&#32622;&#65292;&#22312;&#24037;&#20316;&#26102;&#38388;&#27599;&#22235;&#23567;&#26102;&#29992;Subversion&#19979;&#36733;&#19968;&#27425;&#28304;&#30721;&#65292;&#24182;&#29992;Maven&#36827;&#34892;&#32534;&#35793;&#65292;&#27979;&#35797;&#65292;&#25171;&#21253;&#21644;&#37325;&#26032;&#37096;&#32626;&#21040;&#28436;&#31034;&#26381;&#21153;&#22120;&#19978;&#12290;</p><p>&#22914;&#26524;&#20986;&#29616;&#38169;&#35823;&#65292;&#20250;&#25226;&#38382;&#39064;&#21457;&#32473;&#39033;&#30446;&#32463;&#29702;&#20197;&#21450;&#36825;&#27425;&#32534;&#35793;&#38388;&#38553;&#37324;&#25152;&#26377;&#26377;&#20221;&#25552;&#20132;&#20195;&#30721;&#30340;&#24320;&#21457;&#20154;&#21592;&#12290;</p><p>&#35814;&#35265;&#25345;&#32493;&#38598;&#25104;&#36164;&#26009;&#65292;&#27880;&#24847;&#22312;&#29992;&#20110;&#25345;&#32493;&#38598;&#25104;&#30340;tomcat&#30340;conf/context.xml &#20013;&#21152;&#20837;antiJARLocking="true" antiResourceLocking="true"&#37197;&#32622;&#24050;&#38450;&#27490;jar lock&#20303;undeploy&#19981;&#20102;&#12290;(&#20294;&#27492;&#21442;&#25968;&#21482;&#36866;&#21512;&#20110;&#25345;&#32493;&#38598;&#25104;&#30340;tomcat&#12290;)</p><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3780"></a>29.6.1.&nbsp;&#21551;&#21160;</h3></div></div></div><p>&#26082;&#25903;&#25345;&#21629;&#20196;&#34892;&#26041;&#24335;&#35843;&#29992;&#65292;&#20063;&#25903;&#25345;&#20197;war&#21253;&#30340;&#24418;&#24335;&#21457;&#24067;&#21040;tomcat&#20013;&#12290;</p><p>&#20351;&#29992;&#21629;&#20196;&#34892;&#30340;&#24773;&#20917;&#22914;&#19979;&#65306;</p><pre class="programlisting">
nohup java -jar hudson.war --httpPort=9999 --ajp13Port=9001 &amp;
            </pre></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3785"></a>29.6.2.&nbsp;&#26032;&#24314;&#39033;&#30446;</h3></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>&#35774;&#32622;&#31995;&#32479;&#21464;&#37327;MAVEN_HOME&#12290;</p></li><li><p>Build a free-style software project &#12290;</p></li><li><p>Discard Old Builds&#65306;&#36873;Days to keep builds&#65292;&#22635;10&#65292;build&#35760;&#24405;&#20445;&#30041;10&#22825;&#12290;</p></li><li><p>Source Code Management  &#36873; Subversion &#24182;&#22635;&#19978;URL&#12290;</p></li><li><p>Build Triggers &#36873;Build periodically&#65292;&#22635;0 (8-22)/4 * * * (&#24037;&#20316;&#26102;&#38388;&#37324;&#65292;&#27599;4&#23567;&#26102;&#25191;&#34892;&#19968;&#27425;&#65292;&#35814;&#32454;&#21487;&#28857;&#20987;&#36755;&#20837;&#26694;&#26049;&#30340;&#24110;&#21161;&#25353;&#38062;)</p></li><li><p>Builds&#36873;Invoke Top Level Maven Target&#65292;&#36825;&#37324;&#36873;test tomcat:undeploy war:exploded tomcat:exploded&#65292;&#36824;&#21487;&#20197;&#28155;&#21152;&#20854;&#20182;&#30340;ant,shell script&#21629;&#20196;&#12290;</p></li><li><p>E-mail Notification&#65306;Recipients &#35828;&#26126;&#24517;&#39035;&#21457;&#36865;&#30340;email&#21015;&#34920;&#65292;&#22914;&#39033;&#30446;&#32463;&#29702;&#30340;mail&#12290;&#21246;&#36873;&#65306;Send separate e-mails to individuals who broke the build&#65292;&#20250;&#21457;&#32473;&#27599;&#20010;build&#20043;&#38388;&#25552;&#20132;&#36807;&#20195;&#30721;&#30340;SVN&#24080;&#21495;&#12290;SVN&#24080;&#21495;&#30340;email&#22320;&#22336;&#22312;Peoples&#20013;&#37197;&#32622;&#12290;&#22312;&#25972;&#20010;Hudson&#30340;configure&#20013;&#37197;&#32622;SMTP&#20449;&#24687;&#21450;SVN&#24080;&#21495;&#30340;&#40664;&#35748;email&#21518;&#32512;&#65288;&#22914;&#40664;&#35748;&#21518;&#32512;&#20026;@gmail.com&#65292;&#21017;xyz20003&#24080;&#21495;&#30340;&#40664;&#35748;email&#20026;xyz20003@gmail.com&#65289;</p></li><li><p>Totally, Hudson&#20250;&#22312;&#24037;&#20316;&#26102;&#38388;&#27599;&#22235;&#23567;&#26102;&#29992;Subversion&#19979;&#36733;&#19968;&#27425;&#28304;&#30721;&#65292;&#24182;&#29992;Maven&#36827;&#34892;&#32534;&#35793;&#65292;&#27979;&#35797;&#65292;&#25171;&#21253;&#21644;&#37325;&#26032;&#37096;&#32626;&#21040;&#28436;&#31034;&#26381;&#21153;&#22120;&#19978;&#12290;&#22914;&#26524;&#20986;&#29616;&#38169;&#35823;&#65292;&#20250;&#25226;&#38382;&#39064;&#21457;&#32473;&#39033;&#30446;&#32463;&#29702;&#20197;&#21450;&#36825;&#27425;&#32534;&#35793;&#38388;&#38553;&#37324;&#25152;&#26377;&#26377;&#20221;&#25552;&#20132;&#20195;&#30721;&#30340;&#24320;&#21457;&#20154;&#21592;&#12290;</p></li><li><p>&#27880;&#24847;&#22312;&#29992;&#20110;&#25345;&#32493;&#38598;&#25104;&#30340;tomcat&#30340;conf/context.xml &#20013;&#21152;&#20837;antiJARLocking="true" antiResourceLocking="true"&#37197;&#32622;&#24050;&#38450;&#27490;jar lock&#20303;undeploy&#19981;&#20102;&#12290;(&#20294;&#27492;&#21442;&#25968;&#21482;&#36866;&#21512;&#20110;&#25345;&#32493;&#38598;&#25104;&#30340;tomcat&#12290;)</p></li></ul></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e3806"></a>29.6.3.&nbsp;&#25345;&#32493;&#38598;&#25104;&#23454;&#36341;</h3></div></div></div><p>&#25345;&#32493;&#38598;&#25104;&#26381;&#21153;&#22120;&#26082;&#21487;&#20197;&#23613;&#24555;&#21457;&#29616;&#38382;&#39064;&#24182;&#36890;&#30693;&#25972;&#20010;&#22242;&#38431;&#65292;&#20063;&#21487;&#20197;&#25645;&#24314;&#28436;&#31034;&#26381;&#21153;&#22120;&#35753;&#38656;&#27714;&#20154;&#21592;&#12289;&#39033;&#30446;&#32463;&#29702;&#31561;&#38750;&#25112;&#26007;&#20154;&#21592;&#21487;&#20197;&#38543;&#26102;&#35266;&#30475;&#39033;&#30446;&#12290;</p><p>&#12298;Continuous.Integration -- Improving.Software.Quality&#12299;</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="check.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="history.html">&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">&#31532;&nbsp;28&nbsp;&#31456;&nbsp;&#20195;&#30721;&#20998;&#26512;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top">&nbsp;&#38468;&#24405;&nbsp;A.&nbsp;&#20462;&#25913;&#26085;&#24535;</td></tr></table></div></body></html>