<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>&#31532;&nbsp;17&nbsp;&#31456;&nbsp;JMX</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><style type="text/css">
body { background-image: url('images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="start" href="index.html" title="Leona"><link rel="up" href="index.html" title="Leona"><link rel="prev" href="groovy.html" title="&#31532;&nbsp;16&nbsp;&#31456;&nbsp;Groovy"><link rel="next" href="osgi.html" title="&#31532;&nbsp;18&nbsp;&#31456;&nbsp;OSGI"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" xmlns:fo="http://www.w3.org/1999/XSL/Format" style="background-color:white;border:none;height:73px;border:1px solid black;"><a style="border:none;" href="http://www.family168.com/" title="Family168"><img src="images/family168.png" border="0"></img></a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">&#31532;&nbsp;17&nbsp;&#31456;&nbsp;JMX</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="groovy.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="osgi.html">&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="chapter" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title"><a name="jmx"></a>&#31532;&nbsp;17&nbsp;&#31456;&nbsp;JMX</h2></div></div></div><p>Spring&#20026;&#22312;&#26381;&#21153;&#31471;&#21457;&#24067;JMX&#26381;&#21153;&#20570;&#20102;&#19968;&#20123;&#24037;&#20316;&#65292;&#25903;&#25345;&#21253;&#25324;annotation&#22312;&#20869;&#30340;&#22810;&#31181;&#37197;&#32622;POJO&#36755;&#20986;&#21487;&#31649;&#29702;&#23646;&#24615;&#19982;&#26041;&#27861;&#30340;&#26041;&#24335;&#12290;</p><p>&#25105;&#20204;&#36873;&#25321;&#20351;&#29992;JDK-5&#37324;&#30340;JMX&#65292;&#24456;&#26126;&#26174;&#23427;&#36824;&#19981;&#25903;&#25345;JDK-6&#22810;&#20986;&#26469;&#30340;MXBean&#65292;&#20294;&#24050;&#32463;&#36275;&#22815;&#28436;&#31034;&#20960;&#31181;&#22522;&#26412;&#21151;&#33021;&#20102;&#12290;</p><p>Spring&#22312;&#23458;&#25143;&#31471;&#30340;&#23553;&#35013;&#36824;&#24456;&#19981;&#28789;&#27963;&#65292;&#20165;&#20165;&#25552;&#20379;&#20102;MBeanServerConnection&#65292;&#38656;&#35201;&#25105;&#20204;&#33258;&#24049;&#20570;&#30340;&#19996;&#35199;&#36824;&#26159;&#22826;&#22810;&#20102;&#12290;</p><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e1979"></a>17.1.&nbsp;&#31034;&#20363;</h2></div></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e1981"></a>17.1.1.&nbsp;&#26381;&#21153;&#31471;</h3></div></div></div><p>&#20351;&#29992;RMI&#26041;&#24335;&#27880;&#20876;MBean&#65292;&#27880;&#24847;&#29992;&#25143;&#21517;&#23494;&#30721;&#25991;&#20214;&#24517;&#39035;&#20351;&#29992;&#30495;&#23454;&#36335;&#24452;&#65292;&#26381;&#21153;&#22120;IP&#19981;&#33021;&#22635;127.0.0.1&#25110;&#23454;&#38469;hosts&#37324;&#25351;&#21521;127.0.0.1&#30340;&#22495;&#21517;&#65292;&#21542;&#21017;&#26080;&#27861;&#36828;&#31243;&#35775;&#38382;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e1984"></a>17.1.2.&nbsp;&#23458;&#25143;&#31471;</h3></div></div></div><p>&#28436;&#31034;&#20102;&#20351;&#29992;Proxy&#21644;&#30452;&#25509;&#25805;&#20316;Attribute&#20004;&#31181;&#26041;&#24335;&#65292;&#22240;&#20026;&#19981;&#26159;JDK-6&#65292;&#19981;&#33021;&#20351;&#29992;JMX.newMBeanProxy&#21644;JMX.newMXBeanProxy&#12290;&#21482;&#33021;&#20511;&#21161;MBeanServerInvocationHandler.newProxyInstance&#12290;</p></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e1987"></a>17.2.&nbsp;JMX&#24120;&#29992;&#26415;&#35821;</h2></div></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e1989"></a>17.2.1.&nbsp;Manageable Resource</h3></div></div></div><p>&#21487;&#31649;&#29702;&#30340;&#36164;&#28304;&#65292;&#21487;&#20197;&#26159;&#24212;&#29992;&#31243;&#24207;&#65292;&#35774;&#22791;&#25110;&#32773;&#33021;&#22815;&#34987;java&#31243;&#24207;&#25152;&#35775;&#38382;&#25110;&#32773;&#21253;&#35013;&#30340;&#23454;&#20307;&#12290;&#36890;&#36807;JMX&#21487;&#20197;&#31649;&#29702;&#36825;&#20123;&#36164;&#28304;&#12290;&#24212;&#29992;&#31243;&#24207;&#33021;&#22815;&#26292;&#38706;&#33258;&#24049;&#30340;&#32452;&#20214;&#65292;API&#25110;&#32773;&#38468;&#21152;&#30340;&#36164;&#28304;&#65292;&#20351;&#24471;JMX&#33021;&#22815;&#31649;&#29702;&#24212;&#29992;&#31243;&#24207;&#12290;&#21487;&#31649;&#29702;&#36164;&#28304;&#29978;&#33267;&#21487;&#20197;&#26159;&#32593;&#32476;&#19978;&#30340;&#35774;&#22791;&#65292;&#27604;&#22914;&#25171;&#21360;&#26426;&#12290;&#21487;&#31649;&#29702;&#30340;&#35774;&#22791;&#20316;&#20026;&#19968;&#20010;&#23454;&#20307;&#34987;JMX MBean&#25152;&#31649;&#29702;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e1992"></a>17.2.2.&nbsp;MBean</h3></div></div></div><p>MBean(managed bean)&#26159;&#19968;&#20010;Java&#31867;&#65292;&#31526;&#21512;JXM specification&#25152;&#35268;&#23450;&#30340;&#21629;&#21517;&#21644;&#32487;&#25215;&#35268;&#33539;&#12290;&#23454;&#20363;&#21270;&#30340;MBeans&#26159;Java&#23545;&#35937;&#65292;&#20854;&#20013;&#25152;&#26292;&#38706;&#20986;&#26469;&#30340;&#25509;&#21475;(management interface)&#33021;&#22815;&#25805;&#20316;&#21644;&#35775;&#38382;manageable resources&#12290;&#36825;&#20123;&#25509;&#21475;&#26159;&#30001;MBean&#30340;&#23646;&#24615;&#21644;&#25805;&#20316;&#32452;&#25104;&#12290;</p><p>Management application&#36890;&#36807;&#35775;&#38382;MBean&#26469;&#35775;&#38382;&#23646;&#24615;&#21644;&#35843;&#29992;&#25805;&#20316;&#12290;MBean&#20998;&#19977;&#31181;&#31867;&#22411;:Standard,Dynamic&#21644;Model MBean.&#27599;&#19968;&#31181;&#31867;&#22411;&#37117;&#26159;&#38024;&#23545;&#20110;&#29305;&#23450;&#30340;manageable resource&#26469;&#20351;&#29992;&#30340;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e1996"></a>17.2.3.&nbsp;MBean Server</h3></div></div></div><p>MBean Server&#26159;&#19968;&#20010;&#33021;&#22815;&#31649;&#29702;&#19968;&#32452;MBean&#30340;java&#31867;&#65292;&#26159;JMX&#31649;&#29702;&#29615;&#22659;&#30340;&#26680;&#24515;&#65292;&#26159;&#19968;&#20010;registry(&#36890;&#36807;&#26597;&#25214;MBean&#26469;&#27880;&#20876;&#21040;MBean Server)&#12290;MBean server&#26292;&#38706;&#24050;&#32463;&#27880;&#20876;&#20102;&#30340;MBean&#30340;management interface&#65292;&#20294;&#26159;&#20174;&#26469;&#19981;&#26292;&#38706;&#23545;&#27880;&#20876;&#20102;&#30340;MBean&#30340;&#24341;&#29992;&#12290;&#21478;&#22806;&#65292;&#22914;&#26524;&#27880;&#20876;&#30340;MBean&#30340;&#31867;&#22411;&#26159;&#19981;&#21516;&#30340;&#65292;&#20294;&#26159;MBean Server&#25552;&#20379;&#32473;&#29992;&#25143;&#30340;&#26159;&#19968;&#20010;&#30456;&#21516;&#30340;&#25509;&#21475;&#65292;&#23545;&#20110;&#25152;&#26377;&#31867;&#22411;&#30340;MBean&#36827;&#34892;&#30456;&#21516;&#30340;&#22788;&#29702;&#12290;MBean Server&#20063;&#25552;&#20379;&#26597;&#25214;MBeans&#30340;&#26041;&#27861;&#65292;&#20063;&#21487;&#20197;&#27880;&#20876;&#20854;&#20182;&#30340;&#23545;&#35937;&#20316;&#20026;listener&#21152;&#21040;MBean&#19978;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e1999"></a>17.2.4.&nbsp;JMX agent</h3></div></div></div><p>JMX agent&#26159;&#19968;&#20010;Java process&#65292;&#33021;&#22815;&#20026;&#31649;&#29702;MBean&#30340;&#38598;&#21512;&#25552;&#20379;&#26381;&#21153;&#65292;&#26159;MBean Server&#30340;&#23481;&#22120;&#12290;&#36825;&#20123;&#26381;&#21153;&#21487;&#20197;&#26159;&#24314;&#31435;MBean&#30340;&#20043;&#38388;&#30340;&#20851;&#31995;&#65292;&#21160;&#24577;&#21152;&#36733;&#31867;&#65292;&#30417;&#25511;&#26381;&#21153;&#65292;&#20316;&#20026;&#35745;&#26102;&#22120;&#12290;</p><p>JMX agent&#33021;&#22815;&#25317;&#26377;&#19968;&#20010;protocol adapters&#30340;&#38598;&#21512;&#21644;connectors&#65292;connectors&#33021;&#22815;&#20351;&#24471;&#36828;&#31243;&#30340;&#19981;&#21516;&#23458;&#25143;&#21033;&#29992;&#35813;agent&#12290;Protocol adapters&#21644;connectors&#37117;&#26159;Java&#31867;(&#36890;&#24120;&#26159;&#20316;&#20026;MBean&#23384;&#22312;&#30340;)&#65292;&#33021;&#22815;&#23545;&#21327;&#35758;(&#20363;&#22914;:Http&#25110;&#32773;SNMP)&#24314;&#31435;&#26144;&#23556;&#65292;&#25110;&#32773;&#23558;&#35813;&#20195;&#29702;&#26292;&#38706;&#32473;&#36828;&#31243;&#30340;&#36830;&#25509;(&#20363;&#22914;RMI&#25110;&#32773;Jini)&#12290;&#36825;&#24847;&#21619;&#30528;JMX agent&#33021;&#22815;&#34987;&#21508;&#31181;&#21508;&#26679;&#30340;&#31649;&#29702;&#21327;&#35758;&#21644;&#24037;&#20855;&#25152;&#29992;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2003"></a>17.2.5.&nbsp;Protocol adapters&#21644;connectors</h3></div></div></div><p>Protocol adapters&#21644;connectors&#26159;&#22312;JMX agent&#20013;&#30340;&#23545;&#35937;&#65292;&#23558;&#20195;&#29702;&#26292;&#38706;&#32473;management applicaiton&#21644;protocols&#12290;&#20363;&#22914;&#19968;&#20010;&#23558;&#20195;&#29702;&#26292;&#38706;&#32473;protocol&#30340;&#20363;&#23376;&#65292;agent&#20013;&#30340;SNMP adapter object&#33021;&#22815;&#23558;SNMP&#21327;&#35758;&#26144;&#23556;&#21040;JMX agent&#20013;&#12290;&#21478;&#22806;&#65292;&#19968;&#20010;agent&#21487;&#20197;&#26377;&#19968;&#20010;RMI connector&#65292;&#35813;connector&#33021;&#22815;&#35753;management application&#36890;&#36807;RMI clients&#26469;&#25171;&#24320;&#20195;&#29702;&#21644;management application&#30340;&#36890;&#36335;&#65292;&#20063;&#23601;&#26159;&#23558;&#20195;&#29702;&#26292;&#38706;&#32473;management application&#12290;Protocol adapters&#26377;&#19968;&#20010;&#22312;agent&#20043;&#20869;&#30340;&#31616;&#21333;&#23545;&#35937;&#32452;&#25104;&#65292;&#28982;&#32780;connectors&#26377;&#19968;&#20010;&#23545;&#35937;&#22312;&#20195;&#29702;&#20013;&#65292;&#19968;&#20010;&#23545;&#35937;&#22312;client&#31471;&#12290;</p><p>&#19968;&#20010;&#20195;&#29702;&#21487;&#20197;&#26377;&#20219;&#24847;&#22810;&#20010;adapters&#21644;connectors&#65292;&#26041;&#20415;&#25105;&#20204;&#20351;&#29992;&#26032;&#30340;&#24037;&#20855;&#25110;&#32773;&#20854;&#20182;&#30340;&#20197;&#23384;&#22312;&#30340;&#31649;&#29702;&#21327;&#35758;&#21644;&#24212;&#29992;&#31243;&#24207;&#12290;&#20195;&#29702;&#33021;&#22815;&#32473;&#24212;&#29992;&#31243;&#24207;&#25552;&#20379;&#28789;&#27963;&#30340;&#31649;&#29702;&#65292;&#25105;&#20204;&#20063;&#21487;&#20197;&#23558;&#20195;&#29702;&#20998;&#24067;&#21040;&#32593;&#32476;&#20013;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2007"></a>17.2.6.&nbsp;Management application</h3></div></div></div><p>&#19968;&#20010;management application&#21487;&#20197;&#26159;&#20219;&#20309;&#30340;&#29992;&#25143;&#31243;&#24207;&#65292;&#29992;&#20110;&#21644;&#20219;&#24847;&#22810;&#30340;JMX agent&#20043;&#38388;&#24314;&#31435;&#25509;&#21475;&#12290;&#23545;&#20110;&#19968;&#20123;&#35774;&#35745;&#22909;&#30340;&#31526;&#21512;JMX&#25216;&#26415;&#30340;management appliction&#65292;JMX agents&#33021;&#22815;&#24314;&#31435;&#21644;&#35813;management application&#30340;&#32852;&#31995;&#65292;JMX agents&#20063;&#33021;&#22815;&#24314;&#31435;&#21644;&#37027;&#20123;&#20808;&#21069;&#27809;&#26377;&#32771;&#34385;&#29992;JMX&#25216;&#26415;&#30340;management application&#24314;&#31435;&#32852;&#31995;&#12290;&#19968;&#26041;&#38754;&#65292;&#19968;&#20010;&#20860;&#23481;JMX&#30340;management application&#33021;&#22815;&#21033;&#29992;JMX&#30340;&#19968;&#20123;&#39640;&#32423;&#29305;&#24615;&#12290;&#20196;&#19968;&#26041;&#38754;&#65292;&#36890;&#36807;&#20889;&#23450;&#21046;&#30340;adapters&#21644;connectors&#65292;&#33021;&#22815;&#35753;JMX agent&#26377;&#21644;&#29616;&#23384;&#30340;non-JMX manager&#24314;&#31435;&#20851;&#31995;&#65292;&#20030;&#20010;&#20363;&#23376;&#65306;&#19968;&#20010;SNMP&#30340;manager&#65292;&#36890;&#36807;&#22312;agent&#20013;&#24314;&#31435;SNMP adapter&#65292;&#20351;&#24471;&#35813;agent&#33021;&#22815;&#21644;SNMP&#30340;manager&#24314;&#31435;&#20851;&#31995;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2010"></a>17.2.7.&nbsp;Notification</h3></div></div></div><p>Notifications&#26159;java&#23545;&#35937;&#65292;&#29992;&#26469;&#21253;&#35013;&#20107;&#20214;&#65292;&#25253;&#35686;&#21644;&#20854;&#20182;&#30340;&#24120;&#35268;&#20449;&#24687;&#12290;&#30001;MBeans&#21644;MBean Server&#25152;&#28608;&#21457;&#12290;&#20854;&#20182;&#30340;MBeans&#21644;java&#23545;&#35937;&#33021;&#22815;&#34987;&#27880;&#20876;&#20026;listener&#26469;&#25509;&#25910;notification&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2013"></a>17.2.8.&nbsp;Instrumentation</h3></div></div></div><p>Instrumentation&#26159;&#19968;&#20010;&#36890;&#36807;MBean&#25110;&#32773;MBean&#30340;&#38598;&#21512;&#26469;&#26292;&#38706;&#21487;&#31649;&#29702;&#30340;&#36164;&#28304;&#30340;process&#65292;&#19968;&#20010;&#24212;&#29992;&#30340;Instrumentation&#21457;&#29983;&#22312;&#24320;&#21457;&#36807;&#31243;&#20013;&#65292;&#25110;&#32773;&#24320;&#21457;&#20154;&#21592;&#24314;&#31435;MBeans&#65292;&#36825;&#20123;MBean&#29992;&#21040;&#20102;&#24050;&#26377;&#30340;&#27963;&#21160;&#31995;&#32479;&#30340;API&#12290;</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="groovy.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="osgi.html">&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">&#31532;&nbsp;16&nbsp;&#31456;&nbsp;Groovy&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top">&nbsp;&#31532;&nbsp;18&nbsp;&#31456;&nbsp;OSGI</td></tr></table></div></body></html>