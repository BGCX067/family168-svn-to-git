<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>&#31532;&nbsp;5&nbsp;&#31456;&nbsp;Spring Security&#26435;&#38480;&#31649;&#29702;&#65288;&#24453;&#25972;&#29702;&#65289;</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><style type="text/css">
body { background-image: url('images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="start" href="index.html" title="Leona"><link rel="up" href="index.html" title="Leona"><link rel="prev" href="hibernate.html" title="&#31532;&nbsp;4&nbsp;&#31456;&nbsp;Hibernate"><link rel="next" href="struts2.html" title="&#31532;&nbsp;6&nbsp;&#31456;&nbsp;Struts2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" xmlns:fo="http://www.w3.org/1999/XSL/Format" style="background-color:white;border:none;height:73px;border:1px solid black;"><a style="border:none;" href="http://www.family168.com/" title="Family168"><img src="images/family168.png" border="0"></img></a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">&#31532;&nbsp;5&nbsp;&#31456;&nbsp;Spring Security&#26435;&#38480;&#31649;&#29702;<span class="emphasis"><em>&#65288;&#24453;&#25972;&#29702;&#65289;</em></span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="hibernate.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="struts2.html">&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="chapter" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title"><a name="springsecurity"></a>&#31532;&nbsp;5&nbsp;&#31456;&nbsp;Spring Security&#26435;&#38480;&#31649;&#29702;<span class="emphasis"><em>&#65288;&#24453;&#25972;&#29702;&#65289;</em></span></h2></div></div></div><p>&#29031;&#25644;springside-2.0&#30340;&#26435;&#38480;&#27169;&#22411;&#65292;&#23454;&#29616;User&#29992;&#25143; - Role&#35282;&#33394; - Resource&#36164;&#28304;&#19977;&#31181;&#32452;&#25104;&#30340;RBAC&#27169;&#22411;&#12290;</p><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e835"></a>5.1.&nbsp;&#40664;&#35748;&#35282;&#33394;&#21517;&#31216;&#37117;&#35201;&#20197;ROLE_&#24320;&#22836;</h2></div></div></div><p>&#31245;&#24494;&#27880;&#24847;&#19968;&#19979;&#65292;&#40664;&#35748;&#35282;&#33394;&#21517;&#31216;&#37117;&#35201;&#20197;ROLE_&#24320;&#22836;&#65292;&#21542;&#21017;&#19981;&#20250;&#34987;&#35745;&#20837;&#26435;&#38480;&#25511;&#21046;&#65292;&#22914;&#26524;&#38656;&#35201;&#20462;&#25913;&#65292;&#23601;&#22312;xml&#37324;&#37197;&#20010;&#20160;&#20040;&#21069;&#32512;&#30340;&#12290;</p><p>&#21442;&#32771;springside&#20013;&#30340;&#20363;&#23376;&#65292;&#21487;&#20197;&#29992;&#36807;&#37197;&#32622;roleVoter&#30340;rolePrefix&#26469;&#25913;&#21464;&#36825;&#20010;&#21069;&#32512;</p><pre class="programlisting">&lt;!--
         &#24517;&#39035;&#26159;&#20197;rolePrefix&#35774;&#23450;&#30340;value&#24320;&#22836;&#30340;&#25165;&#20250;&#36827;&#34892;&#25237;&#31080;,&#21542;&#21017;&#20026;&#24323;&#26435;
     --&gt;
    &lt;bean id="roleVoter" class="org.acegisecurity.vote.RoleVoter"&gt;
        &lt;property name="rolePrefix" value="AUTH_"/&gt;
    &lt;/bean&gt;
        </pre></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e840"></a>5.2.&nbsp;&#20851;&#20110;Voter&#36825;&#20010;&#25237;&#31080;&#32773;&#30340;&#21547;&#20041;&#32456;&#20110;&#26377;&#19968;&#28857;&#20799;&#20102;&#35299;&#20102;&#12290;</h2></div></div></div><p>&#23454;&#38469;&#19978;&#24182;&#27809;&#26377;&#32763;&#35793;&#30340;&#23383;&#38754;&#21547;&#20041;&#37027;&#20040;&#26377;&#34880;&#26377;&#32905;&#65292;&#23454;&#38469;&#19978;&#23601;&#26159;&#19968;&#20123;&#26465;&#20214;&#65292;&#21028;&#26029;&#26435;&#38480;&#30340;&#26102;&#20505;&#65292;&#36825;&#20123;&#26465;&#20214;&#26377;&#19977;&#20010;&#29366;&#24577;&#12290;&#24323;&#26435;&#65292;&#36890;&#36807;&#65292;&#31105;&#27490;&#12290;&#26368;&#21518;&#36890;&#36807;&#20320;&#22312;xml&#37324;&#37197;&#32622;&#30340;&#31574;&#30053;&#26469;&#20915;&#23450;&#21040;&#24213;&#26159;&#19981;&#26159;&#35753;&#20320;&#35775;&#38382;&#36825;&#20010;&#38656;&#35201;&#39564;&#35777;&#30340;&#23545;&#35937;&#12290;</p><p>acegi&#33258;&#24049;&#25552;&#20379;&#30340;&#31574;&#30053;&#26377;&#19977;&#20010;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>UnanimousBased.java&#21482;&#35201;&#26377;&#19968;&#20010;Voter&#19981;&#33021;&#23436;&#20840;&#36890;&#36807;&#26435;&#38480;&#35201;&#27714;&#65292;&#23601;&#31105;&#27490;&#35775;&#38382;&#12290;&#36825;&#20010;&#22826;&#21487;&#24597;&#20102;&#65292;&#25105;&#20170;&#22825;&#26202;&#19978;&#23601;&#36733;&#22312;&#23427;&#19978;&#38754;&#20102;&#12290;&#23601;&#22240;&#20026;&#25105;&#32473;&#25152;&#26377;&#30340;&#36164;&#28304;&#35774;&#32622;&#20102;&#20004;&#20010;&#35282;&#33394;&#65292;&#20294;&#24403;&#21069;&#30340;&#29992;&#25143;&#21482;&#25317;&#26377;&#20854;&#20013;&#19968;&#20010;&#35282;&#33394;&#65292;&#23601;&#23548;&#33268;&#36825;&#20010;&#29992;&#25143;&#22240;&#20026;&#26435;&#38480;&#19981;&#22815;&#65292;&#25152;&#20197;&#26080;&#27861;&#32487;&#32493;&#35775;&#38382;&#36164;&#28304;&#20102;&#12290;&#31616;&#30452;&#26080;&#27861;&#29702;&#21947;&#21834;&#12290;</p></li><li><p>AffirmativeBased.java&#21482;&#35201;&#26377;&#19968;&#20010;Voter&#19981;&#33021;&#36890;&#36807;&#26435;&#38480;&#35201;&#27714;&#65292;&#23601;&#31105;&#27490;&#35775;&#38382;&#12290;&#36825;&#37324;&#24212;&#35813;&#26159;&#19968;&#20010;&#26368;&#23567;&#36890;&#36807;&#65292;&#23601;&#26159;&#35828;&#33267;&#23569;&#28385;&#36275;&#37324;&#20854;&#20013;&#19968;&#20010;&#26465;&#20214;&#23601;&#21487;&#20197;&#36890;&#36807;&#20102;&#12290;</p></li><li><p>ConsensusBased.java&#21482;&#35201;&#36890;&#36807;&#30340;Voter&#27604;&#31105;&#27490;&#30340;Voter&#25968;&#30446;&#22810;&#23601;&#21487;&#20197;&#35775;&#38382;&#20102;&#12290;&#22079;&#22079;&#12290;</p></li><li><p>&#26368;&#21518;&#25105;&#24403;&#28982;&#36873;&#25321;AffirmativeBased.java&#65292;&#36825;&#26679;&#65292;&#25105;&#32473;&#19968;&#20010;&#36164;&#28304;&#37197;&#32622;&#20960;&#20010;&#35282;&#33394;&#65292;&#29992;&#25143;&#21482;&#35201;&#28385;&#36275;&#20854;&#20013;&#19968;&#20010;&#35282;&#33394;&#23601;&#21487;&#20197;&#35775;&#38382;&#21862;&#12290;&#36825;&#26679;&#26356;&#27491;&#24120;&#19968;&#20123;&#21834;&#12290;</p></li></ul></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e853"></a>5.3.&nbsp;&#20851;&#20110;&#21516;&#19968;&#29992;&#25143;&#37325;&#22797;&#30331;&#24405;&#30340;&#38382;&#39064;</h2></div></div></div><p>&#22312;filterChainProxy&#37324;&#38754;&#21152;&#19978;concurrentSessionFilter</p><pre class="programlisting">&lt;bean name="filterChainProxy" class="org.acegisecurity.util.FilterChainProxy" &gt;
  &lt;property name="filterInvocationDefinitionSource"&gt;
   &lt;value&gt;
    CONVERT_URL_TO_LOWERCASE_BEFORE_COMPARISON
    PATTERN_TYPE_APACHE_ANT
    /**=httpSessionContextIntegrationFilter,logoutFilter,authenticationProcessingFilter,anonymousProcessingFilter,concurrentSessionFilter,exceptionTranslationFilter,filterInvocationInterceptor
   &lt;/value&gt;
  &lt;/property&gt;
&lt;/bean&gt;
        </pre><p>&#37197;&#32622;concurrentSessionFilter&#21644;concurrentSessionController</p><pre class="programlisting">&lt;bean id="concurrentSessionFilter" class="org.acegisecurity.concurrent.ConcurrentSessionFilter"&gt;
  &lt;property name="sessionRegistry"&gt;
   &lt;ref bean="sessionRegistry"/&gt;
  &lt;/property&gt;
  &lt;property name="expiredUrl"&gt;
   &lt;value&gt;/login.action?status=expired&lt;/value&gt;
  &lt;/property&gt;
 &lt;/bean&gt;

 &lt;!-- &#21487;&#20197;&#38459;&#27490;&#26576;&#20010;&#29992;&#25143;&#21517;&#22312;&#24050;&#32463;&#25104;&#21151;&#30331;&#24405;&#36827;web&#24212;&#29992;&#30340;&#21516;&#26102;&#20877;&#36827;&#34892;&#19968;&#27425;&#25104;&#21151;&#30340;&#30331;&#24405; --&gt;
 &lt;bean id="concurrentSessionController" class="org.acegisecurity.concurrent.ConcurrentSessionControllerImpl"&gt;
  &lt;property name="maximumSessions"&gt;&lt;value&gt;1&lt;/value&gt;&lt;/property&gt;
  &lt;property name="sessionRegistry"&gt;&lt;ref local="sessionRegistry" /&gt;&lt;/property&gt;
  &lt;!-- property name="exceptionIfMaximumExceeded" value="true"  /--&gt;
 &lt;/bean&gt;
 &lt;bean id="sessionRegistry" class="org.acegisecurity.concurrent.SessionRegistryImpl" /&gt;
        </pre></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e859"></a>5.4.&nbsp;&#20351;&#29992;Filter&#25318;&#25130;URL&#35831;&#27714;</h2></div></div></div><p>&#20351;&#29992;&#22312;web.xml&#20013;&#37197;&#32622;&#30340;&#19968;&#31995;&#21015;filter&#23454;&#29616;&#23545;URL&#35831;&#27714;&#30340;&#25318;&#25130;&#12290;</p></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e862"></a>5.5.&nbsp;&#20351;&#29992;interpreter&#25318;&#25130;METHOD&#35843;&#29992;</h2></div></div></div><p>&#37319;&#29992;aop&#26041;&#24335;&#65292;&#23454;&#29616;&#26041;&#27861;&#35843;&#29992;&#25318;&#25130;&#12290;</p></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e865"></a>5.6.&nbsp;ACL&#22914;&#20309;&#23454;&#29616;&#65311;</h2></div></div></div><div class="orderedlist"><ol type="1"><li><p>&#26681;&#25454;springside&#30340;JIRA&#25551;&#36848;&#65292;&#23454;&#29616;&#22522;&#26412;&#30340;&#23618;&#27425;&#24335;ACL &#31649;&#29702;&#65292;&#65288;Role A&#25317;&#26377;&#37096;&#38376;A&#30340;&#23457;&#25209;&#65292;&#37096;&#38376;B&#30340;&#26597;&#30475;&#26435;&#38480;, &#35831;&#20551;&#21333;&#23646;&#20110;&#37096;&#38376;A&#65292;&#21017;Role A&#26377;&#35813;&#21333;&#30340;&#23457;&#25209;&#26435;&#38480;&#65289;&#12290;&#19982;&#25554;&#20214;&#24335;&#30340;&#35268;&#21017;&#24341;&#25806;&#31649;&#29702;&#12290;</p></li><li><p>&#26469;&#33258;&#65306; <a class="ulink" href="http://www.blogjava.net/RongHao/archive/2006/12/14/87634.html" target="_top">http://www.blogjava.net/RongHao/archive/2006/12/14/87634.html</a>&#23545;acegi ACL&#25193;&#23637;&#30340;&#26500;&#24819;</p><p>&#25193;&#23637;&#19968;&#65306;&#24403;&#20320;&#22686;&#21152;&#19968;&#26465;&#35760;&#24405;&#30340;&#21516;&#26102;&#21521;ACL&#34920;&#37324;&#25554;&#20837;&#26435;&#38480;&#20449;&#24687;&#65292;&#36825;&#20010;ss&#24050;&#32463;&#20570;&#21040;&#20102;&#65292;ss&#26377;&#19968;&#20010;&#20511;&#21475;&#26631;&#35760;&#37027;&#20123;domain&#38656;&#35201;ACL&#20445;&#25252;AclDomainAware&#12290;&#36825;&#37324;&#20877;&#25193;&#23637;&#19968;&#20010;&#22522;&#31867;&#65292;&#30446;&#30340;&#24456;&#31616;&#21333;&#65292;&#24403;&#35835;&#20986;&#25968;&#25454;&#26102;&#38468;&#21152;&#19978;&#26435;&#38480;&#20449;&#24687; </p><pre class="programlisting">
public class BasicAclDomain implements AclDomainAware {
    private int mask; // &#26435;&#38480;
    getMask
    setMask
}

public class Contact extends BasicAclDomain
                </pre><p>&#25193;&#23637;&#20108;&#65306;&#35835;&#21462;&#21015;&#34920;&#26102;&#36827;&#34892;&#25968;&#25454;&#36807;&#28388;&#65292;&#21407;&#26469;&#30340;acegi&#22312;ACL&#30340;&#38598;&#21512;&#21518;&#22788;&#29702;&#20250;&#36896;&#25104;&#20998;&#39029;&#34382;&#29273;&#23376;&#12290;&#36825;&#37324;&#37319;&#29992;&#21069;&#25318;&#25130;&#65292;&#22312;acl&#34920;&#37324;&#22686;&#21152;&#19968;&#20010;className&#23383;&#27573;&#65292;&#37324;&#38754;&#25918;&#19978;PO&#30340;&#31867;&#21517;&#65292;&#36825;&#26679;&#21487;&#20197;&#32553;&#23567;&#25968;&#25454;&#26597;&#35810;&#33539;&#22260;&#12290;&#23454;&#38469;&#22312;&#35835;&#21462;&#38598;&#21512;&#26102;&#65292;&#20808;&#21040;acl&#34920;&#37324;&#23436;&#25104;&#20998;&#39029;&#65292;&#28982;&#21518;&#22810;&#30340;&#23545;contact&#30340;real id list&#65292;&#28982;&#21518;&#25318;&#25130;&#23454;&#38469;DAO&#26041;&#27861;&#65292;&#21160;&#24577;&#25913;&#21464;SQL&#25104;select * from real_data where id in ({real id list})&#30340;&#24418;&#24335;&#12290;</p><p>&#20998;&#39029;&#23454;&#38469;&#26159;&#23545;acl&#34920;&#37324;&#30456;&#24212;&#35760;&#24405;&#30340;&#20998;&#39029;&#65292;&#27604;&#22914;&#35828;&#21462;&#31532;10&#26465;&#21040;20&#26465;&#65292;&#23454;&#38469;&#26159;&#21462;acl&#34920;&#37324;&#21709;&#24212;&#35760;&#24405;&#30340;&#31532;10&#26465;&#21040;20&#26465;&#26469;&#21160;&#24577;&#25913;&#21464;sql&#12290;</p><p>&#36825;&#20010;&#21487;&#20197;&#20889;&#19968;&#20010;&#19987;&#38376;&#29992;&#26469;&#25318;&#25130;&#30340;&#31867;SecurityDAO&#26041;&#27861;&#65292;findByPageACL(query, page),ContactServiceImpl&#20013;getAllContacts&#26041;&#27861;&#24378;&#21046;&#35843;&#29992;&#35813;&#26041;&#27861;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">&#25552;&#31034;</h3>&#36825;&#20010;&#26041;&#27861;&#22312;javaeye&#20013;&#30475;&#21040;&#20102;&#35752;&#35770;&#65292;&#38382;&#39064;&#23601;&#22312;&#20110;&#65306;real id list&#36807;&#22823;&#26102;&#65292;&#25968;&#25454;&#24211;&#20250;&#23558;sql&#21098;&#20999;&#12290;&#25152;&#20197;&#25968;&#25454;&#37327;&#22823;&#30340;&#26102;&#20505;&#27809;&#27861;&#29992;&#65292;&#36824;&#26377;&#20154;&#35828;&#22914;&#26524;&#38656;&#35201;&#21160;&#24577;&#35774;&#32622;&#20854;&#20182;&#26597;&#35810;&#25110;&#25490;&#24207;&#26465;&#20214;&#65292;&#36824;&#20250;&#26377;&#38382;&#39064;&#65292;&#20855;&#20307;&#26159;&#20160;&#20040;&#23601;&#27809;&#35828;&#65292;&#21487;&#33021;&#26159;&#35299;&#26512;&#20986;&#38382;&#39064;&#65292;&#25110;&#32773;&#25928;&#29575;&#38382;&#39064;</div><p>&#25193;&#23637;&#19977;&#65306;&#21518;&#25318;&#25130;&#12290;&#36825;&#37324;AFTER_ACL_COLLECTION_READ&#21644;AFTER_ACL_READ&#30340;&#30446;&#30340;&#23601;&#24456;&#31616;&#21333;&#20102;&#65292;&#22240;&#20026;&#20182;&#20204;&#19981;&#20877;&#36827;&#34892;&#25968;&#25454;&#36807;&#28388;&#65292;&#20182;&#20204;&#21482;&#26159;&#25226;&#29992;&#25143;&#23545;&#27599;&#26465;&#35760;&#24405;&#30340;mask&#21462;&#26368;&#22823;&#26435;&#38480;&#23601;OK&#20102;&#65292;&#28982;&#21518;&#24448;PO&#32423;setMask&#12290;&#36825;&#26679;PO&#24102;&#20102;&#26435;&#38480;&#20449;&#24687;&#21040;&#39029;&#38754;&#19978;&#34892;&#23601;&#38750;&#24120;&#22909;&#22788;&#29702;&#20102;&#12290;&#27604;&#22914;button&#30340;&#26174;&#31034;&#31561;&#31561;&#12290;</p><p>&#25193;&#23637;&#22235;&#65306;&#23553;&#35013;AclService&#65292;&#23545;&#21333;&#26465;&#35760;&#24405;&#30340;ACL&#26435;&#38480;&#31649;&#29702;&#12290;&#27604;&#22914;&#22686;&#21152;&#26435;&#38480;&#65292;&#20462;&#25913;&#26435;&#38480;&#65292;&#21024;&#38500;&#26435;&#38480;&#12290;&#36825;&#20010;acegi&#20174;1.0.3&#24050;&#32463;&#24320;&#22987;&#21152;&#20837;&#20102;&#12290;</p><p>&#36824;&#26410;&#23454;&#29616;&#30340;&#26500;&#24819;&#19968;&#65306;PO&#21019;&#24314;&#21521;ACL&#34920;&#37324;&#25554;&#20837;&#26435;&#38480;&#20449;&#24687;&#26102;&#65292;&#21487;&#20197;&#37197;&#32622;&#19981;&#21516;&#31574;&#30053;&#65306;&#27604;&#22914;&#36890;&#35759;&#24405;&#21019;&#24314;&#19968;&#26465;&#26032;&#20449;&#24687;&#21482;&#33021;&#21019;&#24314;&#32773;&#21487;&#20197;&#30475;&#24182;&#31649;&#29702;&#65292;&#20799;&#20320;&#24448;&#35831;&#20551;&#34920;&#37324;&#25554;&#20837;&#19968;&#26465;&#26032;&#20449;&#24687;&#21518;&#65292;&#19981;&#20165;&#20320;&#20102;&#65292;&#20320;&#30340;&#19978;&#21496;&#20063;&#21487;&#20197;&#21516;&#26102;&#30475;&#21040;&#12290;&#65288;&#36825;&#20010;&#36824;&#26159;&#27604;&#36739;easy&#30340;&#65289;&#12290;</p><p>&#36824;&#26410;&#23454;&#29616;&#30340;&#26500;&#24819;&#20108;&#65306;&#29992;&#25143;&#25968;&#25454;&#35201;&#23454;&#29616;&#25968;&#25454;&#24211;&#25490;&#24207;&#12290;&#38656;&#35201;&#22312;ACL_OBJECT_IDENTITY&#37324;&#22686;&#21152;&#20960;&#20010;&#39069;&#22806;&#23383;&#27573;&#65292;&#25226;PO&#30456;&#24212;&#30340;&#25490;&#24207;&#23383;&#27573;&#21516;&#27493;&#26356;&#26032;&#21040;ACL&#34920;&#20013;&#12290;&#20160;&#20040;&#65311;&#19981;&#22909;&#20570;&#65311;&#20889;&#37197;&#32622;&#25991;&#20214;&#21834;&#65281;&#20877;&#23545;PO&#30340;update&#36827;&#34892;&#21518;&#25318;&#25130;&#65292;&#24819;&#27861;&#23601;&#36825;&#26679;&#12290;&#23454;&#29616;&#65311;&#65311;</p></li></ol></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e883"></a>5.7.&nbsp;&#20851;&#20110;&#29992;&#25143;&#26435;&#38480;&#31649;&#29702;&#30340;&#38382;&#39064;&#65292;&#26377;&#20102;&#19968;&#20123;&#33258;&#24049;&#30340;&#24819;&#27861;</h2></div></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e885"></a>5.7.1.&nbsp;&#37096;&#38376;&#27010;&#24565;</h3></div></div></div><p>&#26080;&#35770;&#26159;springside-1.0&#20013;&#30340;user - role - authority - resource&#22235;&#23618;&#32467;&#26500;&#65292;&#36824;&#26159;springside-2.0&#20013;&#30340;user - role - resource&#19977;&#23618;&#32467;&#26500;&#65292;&#37117;&#26159;&#28436;&#31034;&#20102;&#26080;&#37096;&#38376;&#30340;&#26435;&#38480;&#27169;&#22411;&#12290;</p><p>&#32780;&#22312;&#23454;&#38469;&#24212;&#29992;&#20013;&#65292;&#20351;&#29992;&#20102;&#28155;&#21152;&#20102;&#37096;&#38376;&#30340;&#26435;&#38480;&#27169;&#22411;&#65292;&#23601;&#26159;&#35828;&#22312;user - role - resource&#20013;&#21448;&#22686;&#21152;&#20102;dept&#30340;&#37096;&#20998;&#65292;&#36825;&#26679;&#20570;&#30340;&#22909;&#22788;&#26159;&#65292;&#19981;&#21516;&#37096;&#38376;&#21487;&#20197;&#20351;&#29992;&#30456;&#21516;&#21517;&#31216;&#30340;&#35282;&#33394;&#65292;&#22312;&#35774;&#32622;&#35282;&#33394;&#26435;&#38480;&#30340;&#26102;&#20505;&#65292;&#26681;&#25454;&#37096;&#38376;&#20998;&#21035;&#25480;&#26435;&#65292;&#32780;&#29992;&#25143;&#30331;&#38470;&#20043;&#21518;&#65292;&#26681;&#25454;&#26412;&#36523;&#22788;&#22312;&#30340;&#19981;&#21516;&#37096;&#38376;&#65292;&#23601;&#21487;&#20197;&#34987;&#25480;&#20104;&#19981;&#21516;&#30340;&#26435;&#38480;&#12290;</p><p>&#36825;&#31181;&#26435;&#38480;&#27169;&#22411;&#30340;&#26368;&#22823;&#22909;&#22788;&#26159;&#65292;&#24403;&#21592;&#24037;&#21457;&#29983;&#24179;&#32423;&#35843;&#21160;&#30340;&#26102;&#20505;&#65292;&#27604;&#22914;&#25216;&#26415;&#37096;&#30340;&#26222;&#36890;&#21592;&#24037;&#65292;&#35843;&#21160;&#21040;&#23458;&#25143;&#26381;&#21153;&#37096;&#20043;&#21518;&#65292; &#22240;&#20026;&#35282;&#33394;&#21517;&#37117;&#26159;&#26222;&#36890;&#21592;&#24037;&#65292;&#21482;&#38656;&#35201;&#25913;&#21160;&#27492;&#21592;&#24037;&#30340;&#37096;&#38376;&#65292;&#19981;&#38656;&#35201;&#23545;&#20182;&#30340;&#26435;&#38480;&#35774;&#32622;&#20877;&#36827;&#34892;&#22788;&#29702;&#65292;&#23601;&#21487;&#20197;&#35753;&#20182;&#20351;&#29992;&#26032;&#24037;&#20316;&#23703;&#20301;&#30340;&#21151;&#33021;&#26435;&#38480;&#12290;</p><p>&#20294;&#38382;&#39064;&#26159;&#65292;&#27169;&#22411;&#22686;&#21152;&#20102;&#19968;&#20010;dept&#65292;&#21364;&#22823;&#22823;&#30340;&#22686;&#21152;&#20102;&#27169;&#22411;&#30340;&#22797;&#26434;&#31243;&#24230;&#65292;&#21407;&#26412;role - resource&#20043;&#38388;&#30340;&#22810;&#23545;&#22810;&#20851;&#31995;&#65292;&#21464;&#25104;&#20102;role - dept - resource&#19977;&#32773;&#20043;&#38388;&#30340;&#32593;&#29366;&#22810;&#23545;&#22810;&#23545;&#22810;&#30340;&#20851;&#31995;&#65292;role&#19982;dept&#32467;&#21512;&#20043;&#21518;&#65292;&#25165;&#33021;&#21807;&#19968;&#20915;&#23450;&#20351;&#29992;&#30340;&#26435;&#38480;&#12290;&#22914;&#26524;&#25226;&#35282;&#33394;&#35774;&#32622;&#20026;&#65292;&#36719;&#20214;&#37096;&#39033;&#30446;&#32463;&#29702;&#65292;&#30828;&#20214;&#37096;&#39033;&#30446;&#32463;&#29702;&#65292;&#24863;&#35273;&#20063;&#26159;&#24618;&#24618;&#30340;&#65292;&#25152;&#20197;&#35828;&#20063;&#26159;&#24212;&#35813;&#35753;&#37096;&#38376;&#19982;&#35282;&#33394;&#32467;&#21512;&#65292;&#36825;&#26679;&#23601;&#21487;&#20197;&#20351;&#29992;&#35832;&#22914;&#8220;&#39033;&#30446;&#32463;&#29702;&#8221;&#36825;&#31181;&#21516;&#21517;&#35282;&#33394;&#65292;&#22312;&#20351;&#29992;&#35282;&#24230;&#19978;&#26469;&#35828;&#26159;&#26356;&#20415;&#21033;&#20102;&#12290;&#20294;&#23475;&#24597;&#20986;&#29616;&#19982;&#37096;&#38376;&#38145;&#23450;&#30340;&#24773;&#20917;&#65292;&#24433;&#21709;&#36328;&#37096;&#38376;&#35282;&#33394;&#30340;&#35774;&#32622;&#19982;&#20351;&#29992;&#12290;</p><p>&#24819;&#21040;&#19968;&#20010;&#21487;&#33021;&#23454;&#29616;&#30340;&#35299;&#20915;&#26041;&#27861;&#65292;&#37027;&#23601;&#26159;&#35753;dept&#20165;&#20165;&#19982;role&#20851;&#32852;&#65292;&#25105;&#20204;&#22312;&#26174;&#31034;&#39029;&#38754;&#20013;&#30475;&#21040;&#30340;&#26159;&#19968;&#20010;&#35282;&#33394;&#21517;&#65292;&#32780;&#23454;&#38469;&#19978;&#25968;&#25454;&#24211;&#20013;&#20445;&#23384;&#30528;&#22810;&#20010;&#35282;&#33394;&#21015;&#34920;&#65292;&#36825;&#20123;&#35282;&#33394;&#21015;&#34920;&#20998;&#21035;&#23545;&#24212;&#27599;&#20010;&#37096;&#38376;&#65292;&#36825;&#26679;&#23601;&#36798;&#21040;role&#19982;resource&#21333;&#29420;&#31649;&#29702;&#65292;&#20813;&#24471;&#21152;&#20837;dept&#30340;&#20851;&#31995;&#65292;&#35753;&#25968;&#25454;&#27169;&#22411;&#21464;&#24471;&#26356;&#21152;&#22797;&#26434;&#12290;&#29616;&#22312;&#24863;&#35273;&#36825;&#26679;&#30340;&#35774;&#32622;&#26041;&#24335;&#65292;&#21487;&#20197;&#36798;&#21040;&#19981;&#22686;&#21152;&#31243;&#24207;&#27169;&#22411;&#30340;&#22797;&#26434;&#24230;&#65292;&#21516;&#26102;&#21487;&#20197;&#25552;&#21319;&#29992;&#25143;&#20307;&#39564;&#30340;&#20316;&#29992;&#65292;&#21482;&#19981;&#36807;&#22312;&#35774;&#32622;role&#30340;&#26102;&#20505;&#65292;&#36824;&#38656;&#35201;&#22810;&#32771;&#34385;&#19968;&#19979;&#20855;&#20307;&#30340;&#32454;&#33410;&#38382;&#39064;&#65292;&#27604;&#22914;&#40664;&#35748;&#30340;&#35282;&#33394;&#24212;&#35813;&#26159;&#21487;&#20197;&#22312;&#25152;&#26377;&#37096;&#38376;&#19979;&#20351;&#29992;&#30340;&#65288;&#19981;&#23646;&#20110;&#20219;&#20309;&#19968;&#20010;&#37096;&#38376;&#65292;&#21482;&#26159;&#19968;&#31181;&#32570;&#30465;&#24773;&#20917;&#19979;&#30340;&#32771;&#34385;&#12290;&#65289;&#65292;&#22686;&#21152;&#19968;&#20010;&#29305;&#23450;&#37096;&#38376;&#30340;&#35282;&#33394;&#65292;&#23601;&#24212;&#35813;&#35206;&#30422;&#25481;&#40664;&#35748;&#30340;&#35282;&#33394;&#26435;&#38480;&#12290;&#36825;&#20010;&#26102;&#20505;&#20877;&#32473;&#29992;&#25143;&#20998;&#37197;&#35282;&#33394;&#30340;&#26102;&#20505;&#65292;&#22914;&#20309;&#36873;&#25321;&#29305;&#23450;&#30340;&#35282;&#33394;&#65292;&#35282;&#33394;&#20998;&#37197;&#26435;&#38480;&#30340;&#26102;&#20505;&#12290;&#36825;&#20123;&#26102;&#20505;&#23601;&#35201;&#22312;&#30028;&#38754;&#26131;&#29992;&#24615;&#19978;&#19979;&#24037;&#22827;&#20102;&#12290;</p><p>&#29616;&#22312;&#23545;&#22914;&#20309;&#23454;&#29616;&#36825;&#26679;&#30340;&#27169;&#22411;&#23436;&#20840;&#27809;&#26377;&#24605;&#36335;&#12290;&#32780;&#19988;&#35282;&#33394;&#26435;&#38480;&#30340;&#26102;&#20505;&#65292;&#24456;&#21487;&#33021;&#35201;&#26681;&#25454;&#37096;&#38376;&#25226;&#19968;&#20010;&#35282;&#33394;&#30340;&#26435;&#38480;&#20998;&#37197;&#22810;&#27425;&#65292;&#36825;&#26679;&#26159;&#19981;&#26159;&#20063;&#35753;&#31649;&#29702;&#20154;&#21592;&#30340;&#24037;&#20316;&#37327;&#25552;&#39640;&#20102;&#21602;&#65311;&#32780;&#19988;&#19981;&#30693;&#36947;&#23454;&#38469;&#20013;&#36825;&#26679;&#30340;&#26159;&#19981;&#26159;&#30495;&#27491;&#32473;&#24037;&#20316;&#24102;&#26469;&#20415;&#21033;&#12290;&#25152;&#20197;&#26377;&#24453;&#36827;&#19968;&#27493;&#30340;&#30740;&#31350;&#21834;&#12290;</p><p>&#20551;&#24819;&#20351;&#29992;&#37096;&#38376;&#27010;&#24565;&#30340;&#24773;&#20917;&#65306;&#20844;&#21496;&#20013;&#20154;&#21592;&#30340;&#25216;&#26415;&#33021;&#21147;&#24046;&#21035;&#19981;&#26174;&#33879;&#65292;&#19981;&#21516;&#37096;&#38376;&#30340;&#21592;&#24037;&#21487;&#20197;&#38543;&#24847;&#21464;&#21160;&#65292;&#32780;&#19988;&#19981;&#21516;&#37096;&#38376;&#20013;&#30340;&#21592;&#24037;&#32844;&#21153;&#21517;&#31216;&#20063;&#26159;&#31867;&#20284;&#30340;&#65292;&#25216;&#26415;&#37096;&#30340;&#19968;&#33324;&#21592;&#24037;&#65292;&#39640;&#32423;&#21592;&#24037;&#65292;&#32463;&#29702;&#65292;&#23458;&#25143;&#26381;&#21153;&#37096;&#30340;&#19968;&#33324;&#21592;&#24037;&#65292;&#39640;&#32423;&#21592;&#24037;&#65292;&#32463;&#29702;&#12290;&#32780;&#19988;&#27599;&#20010;&#21592;&#24037;&#36890;&#24120;&#21482;&#20998;&#37197;&#19968;&#31181;&#35282;&#33394;&#65292;&#36825;&#26679;&#23545;&#35282;&#33394;&#36827;&#34892;&#32479;&#19968;&#31649;&#29702;&#30340;&#26102;&#20505;&#65292;&#20197;&#21450;&#24179;&#32423;&#35843;&#21160;&#30340;&#26102;&#20505;&#23601;&#26174;&#24471;&#24456;&#26041;&#20415;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e894"></a>5.7.2.&nbsp;&#32844;&#21153;&#38382;&#39064;</h3></div></div></div><p>&#22312;&#20844;&#21496;&#20013;&#65292;&#20154;&#21592;&#37117;&#20250;&#26377;&#33258;&#24049;&#30340;&#32844;&#21153;&#20998;&#23646;&#65292;&#20063;&#26159;&#26681;&#25454;&#32844;&#21153;&#26469;&#20915;&#23450;&#33258;&#24049;&#36127;&#36131;&#30340;&#24037;&#20316;&#19982;&#26435;&#38480;&#12290;&#20294;&#31995;&#32479;&#20013;&#24120;&#24120;&#20351;&#29992;&#35282;&#33394;role&#26469;&#20195;&#26367;&#32844;&#21153;&#26469;&#21457;&#29983;&#20316;&#29992;&#65292;&#32422;&#26463;&#20154;&#21592;&#30340;&#26435;&#38480;&#12290;&#33021;&#19981;&#33021;&#22312;&#31995;&#32479;&#20013;&#20351;&#29992;&#32844;&#21153;&#26469;&#20195;&#26367;&#35282;&#33394;&#21602;&#65311;&#25105;&#35748;&#20026;&#26159;&#19981;&#21487;&#20197;&#30340;&#12290;</p><p>&#31532;&#19968;&#65292;&#20154;&#21592;&#30340;&#26435;&#38480;&#21487;&#33021;&#20250;&#39057;&#32321;&#21457;&#29983;&#21464;&#21160;&#65292;&#32780;&#32844;&#21153;&#30340;&#21464;&#21160;&#21487;&#33021;&#19982;&#26435;&#38480;&#30340;&#21464;&#21160;&#30456;&#27604;&#65292;&#21017;&#31283;&#23450;&#24471;&#22810;&#12290;&#27604;&#22914;&#32463;&#24120;&#21457;&#29983;&#22312;&#32321;&#24537;&#30340;&#26102;&#20505;&#19968;&#20010;&#20154;&#36523;&#20860;&#25968;&#32844;&#30340;&#24773;&#20917;&#65292;&#32780;&#22312;&#30456;&#23545;&#28165;&#38386;&#30340;&#26102;&#20505;&#65292;&#20182;&#21448;&#20250;&#32487;&#32493;&#21435;&#20570;&#33258;&#24049;&#30340;&#26412;&#32844;&#24037;&#20316;&#12290;&#20026;&#20102;&#35299;&#20915;&#36825;&#31181;&#24773;&#20917;&#65292;&#25105;&#20204;&#23601;&#38656;&#35201;&#25277;&#35937;&#20986;&#31890;&#24230;&#26356;&#32454;&#30340;&#35282;&#33394;&#65292;&#26469;&#36127;&#36131;&#21160;&#24577;&#20998;&#37197;&#29992;&#25143;&#21487;&#33021;&#32463;&#24120;&#25913;&#21464;&#30340;&#26435;&#38480;&#12290;</p><p>&#31532;&#20108;&#65292;&#32844;&#21153;&#26159;&#19968;&#31181;&#26641;&#29366;&#32467;&#26500;&#65292;&#32780;&#35282;&#33394;&#26356;&#36235;&#21521;&#20110;&#25153;&#24179;&#32467;&#26500;&#12290;&#23454;&#38469;&#20013;&#65292;&#32844;&#21153;&#19978;&#20005;&#26684;&#21306;&#20998;&#19978;&#19979;&#32423;&#20851;&#31995;&#30340;&#65292;&#20284;&#20046;&#26356;&#33021;&#20307;&#29616;&#20986;&#19981;&#21516;&#29992;&#25143;&#30340;&#26435;&#38480;&#22823;&#23567;&#65292;&#32780;&#35282;&#33394;&#21487;&#20197;&#24403;&#20316;&#26159;&#19968;&#32452;&#26435;&#38480;&#30340;&#38598;&#21512;&#65292;&#35282;&#33394;&#20043;&#38388;&#27809;&#26377;&#24517;&#28982;&#30340;&#19978;&#19979;&#32423;&#20851;&#31995;&#65292;&#20165;&#20165;&#26159;&#29992;&#26469;&#31616;&#21270;&#25805;&#20316;&#65292;&#20415;&#20110;&#29702;&#35299;&#30340;&#19968;&#31181;&#25163;&#27573;&#12290;&#20174;&#36825;&#20010;&#35282;&#24230;&#19978;&#26469;&#35828;&#65292;&#25153;&#24179;&#24335;&#30340;&#35282;&#33394;&#26356;&#21033;&#20110;&#31243;&#24207;&#23454;&#29616;&#12290;</p><p>&#31532;&#19977;&#65292;&#32844;&#21153;&#26159;&#26469;&#33258;&#29616;&#23454;&#24037;&#20316;&#20013;&#30340;&#65292;&#19968;&#31181;&#27169;&#31946;&#30340;&#31216;&#35859;&#65292;&#26159;&#19968;&#31181;&#24863;&#24615;&#30340;&#35748;&#35782;&#65292;&#26356;&#21033;&#20110;&#20154;&#20204;&#30340;&#35760;&#24518;&#21644;&#27983;&#35272;&#12290;&#32780;&#35282;&#33394;&#26159;&#20026;&#20102;&#31243;&#24207;&#30340;&#25968;&#23398;&#27169;&#22411;&#65292;&#32780;&#25277;&#35937;&#20986;&#26469;&#30340;&#65292;&#26356;&#31934;&#30830;&#30340;&#34920;&#31034;&#21151;&#33021;&#38598;&#21512;&#30340;&#19968;&#20010;&#29702;&#24615;&#27010;&#24565;&#65292;&#26356;&#21033;&#20110;&#36923;&#36753;&#23454;&#29616;&#12290;</p></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e900"></a>5.8.&nbsp;acegisecurity-1.0.5&#26032;ACL&#27169;&#22411;</h2></div></div></div><p>&#21548;&#35828;&#20174;1.0.3&#26102;&#20195;&#24320;&#22987;&#65292;&#23601;&#25552;&#20379;&#20102;acls&#21253;&#65292;&#20316;&#20026;&#26032;&#30340;ACL&#27169;&#22411;&#65292;&#22312;&#19979;&#20043;&#21069;&#26410;&#25509;&#35302;&#36807;&#26087;&#30340;ACL&#27169;&#22411;&#65292;&#20882;&#26151;&#30452;&#25509;&#20174;&#26032;&#27169;&#22411;&#24320;&#22987;&#20102;&#12290;</p><p>&#30740;&#31350;acls&#26159;&#20174;&#21457;&#24067;&#21253;&#20013;&#30340;contact&#20363;&#23376;&#24320;&#22987;&#30340;&#12290;&#24863;&#35273;&#25511;&#21046;&#37117;&#38598;&#20013;&#22312;manager&#23618;&#20043;&#20869;&#65292;&#21482;&#23545;ADMINISTRATOR,READ,DELETE&#20570;&#25511;&#21046;&#65292;administrator&#21644;delete&#20381;&#28982;&#26159;&#29992;aop&#20999;method&#65292;&#20363;&#23376;&#37324;&#26159;&#20889;&#21040;xml&#37324;&#65292;&#32771;&#34385;&#24590;&#20040;&#36319;springside2&#25552;&#20379;&#30340;&#22522;&#30784;&#32467;&#21512;&#12290;</p><p>read&#26041;&#38754;&#20570;&#20102;&#29305;&#27530;&#22788;&#29702;&#65292;&#20316;&#20026;&#21518;&#26816;&#39564;&#65292;&#35753;getAll&#36825;&#31181;&#26041;&#27861;&#65292;&#27599;&#27425;&#36820;&#22238;&#30340;&#25968;&#25454;&#65292;&#20808;&#20132;&#32473;&#25318;&#25130;&#22120;&#26816;&#39564;&#65292;&#27809;&#26377;&#26435;&#38480;&#23601;&#20174;&#36820;&#22238;&#30340;&#32467;&#26524;&#21015;&#34920;&#20013;&#21024;&#38500;&#65292;&#36825;&#26679;&#26469;&#23454;&#29616;&#65292;&#21508;&#33258;&#30475;&#21508;&#33258;&#30340;&#25968;&#25454;&#12290;&#38382;&#39064;&#23601;&#26159;&#20998;&#39029;&#30340;&#26102;&#20505;&#21487;&#33021;&#20986;&#29616;&#34382;&#29273;&#23376;&#65288;&#27599;&#39029;&#26174;&#31034;&#35760;&#24405;&#25968;&#19981;&#21516;&#65289;&#12290;</p><pre class="programlisting">
CREATE TABLE ACL_SID(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 100) NOT NULL PRIMARY KEY,
    PRINCIPAL BOOLEAN NOT NULL,
    SID VARCHAR_IGNORECASE(100) NOT NULL,
    CONSTRAINT UNIQUE_UK_1 UNIQUE(SID,PRINCIPAL)
);
CREATE TABLE ACL_CLASS(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 100) NOT NULL PRIMARY KEY,
    CLASS VARCHAR_IGNORECASE(100) NOT NULL,
    CONSTRAINT UNIQUE_UK_2 UNIQUE(CLASS)
);
CREATE TABLE ACL_OBJECT_IDENTITY(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 100) NOT NULL PRIMARY KEY,
    OBJECT_ID_CLASS BIGINT NOT NULL,
    OBJECT_ID_IDENTITY BIGINT NOT NULL,
    PARENT_OBJECT BIGINT,
    OWNER_SID BIGINT,
    ENTRIES_INHERITING BOOLEAN NOT NULL,
    CONSTRAINT UNIQUE_UK_3 UNIQUE(OBJECT_ID_CLASS,OBJECT_ID_IDENTITY),
    CONSTRAINT FOREIGN_FK_1 FOREIGN KEY(PARENT_OBJECT) REFERENCES ACL_OBJECT_IDENTITY(ID),
    CONSTRAINT FOREIGN_FK_2 FOREIGN KEY(OBJECT_ID_CLASS) REFERENCES ACL_CLASS(ID),
    CONSTRAINT FOREIGN_FK_3 FOREIGN KEY(OWNER_SID) REFERENCES ACL_SID(ID)
);
CREATE TABLE ACL_ENTRY(
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 100) NOT NULL PRIMARY KEY,
    ACL_OBJECT_IDENTITY BIGINT NOT NULL,
    ACE_ORDER INTEGER NOT NULL,
    SID BIGINT NOT NULL,
    MASK INTEGER NOT NULL,
    GRANTING BOOLEAN NOT NULL,
    AUDIT_SUCCESS BOOLEAN NOT NULL,
    AUDIT_FAILURE BOOLEAN NOT NULL,
    CONSTRAINT UNIQUE_UK_4 UNIQUE(ACL_OBJECT_IDENTITY,ACE_ORDER),
    CONSTRAINT FOREIGN_FK_4 FOREIGN KEY(ACL_OBJECT_IDENTITY) REFERENCES ACL_OBJECT_IDENTITY(ID),
    CONSTRAINT FOREIGN_FK_5 FOREIGN KEY(SID) REFERENCES ACL_SID(ID)
);
CREATE TABLE USERS(
    USERNAME VARCHAR_IGNORECASE(50) NOT NULL PRIMARY KEY,
    PASSWORD VARCHAR_IGNORECASE(50) NOT NULL,
    ENABLED BOOLEAN NOT NULL
);
CREATE MEMORY TABLE AUTHORITIES(
    USERNAME VARCHAR_IGNORECASE(50) NOT NULL,
    AUTHORITY VARCHAR_IGNORECASE(50) NOT NULL,
    CONSTRAINT FK_AUTHORITIES_USERS FOREIGN KEY(USERNAME) REFERENCES USERS(USERNAME)
);
CREATE UNIQUE INDEX IX_AUTH_USERNAME ON AUTHORITIES(USERNAME,AUTHORITY);
CREATE MEMORY TABLE CONTACTS(
    ID BIGINT NOT NULL PRIMARY KEY,
    CONTACT_NAME VARCHAR_IGNORECASE(50) NOT NULL,
    EMAIL VARCHAR_IGNORECASE(50) NOT NULL
);

        </pre><div class="mediaobject" align="center"><img src="images/acls01.jpg" align="middle"></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e911"></a>5.8.1.&nbsp;ACL_CLASS&#20445;&#23384;&#25903;&#25345;&#30340;&#31867;&#21517;</h3></div></div></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e913"></a>5.8.2.&nbsp;ACL_SID&#24212;&#35813;&#20445;&#23384;&#30340;&#26159;&#29992;&#25143;&#21517;&#65292;&#21644;&#36825;&#20010;&#29992;&#25143;&#30446;&#21069;&#26159;&#21542;&#26377;&#25928;</h3></div></div></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e915"></a>5.8.3.&nbsp;ACL_OBJECT_IDENTITY&#37324;&#26377;&#19977;&#20010;&#22806;&#38190;&#65292;&#20998;&#21035;&#26159;</h3></div></div></div><div class="orderedlist"><ol type="1"><li><p>object_id_class&#65292;&#34920;&#31034;&#25511;&#21046;&#30340;&#26159;&#21738;&#20010;&#31867;</p></li><li><p>parent_object&#65292;&#33258;&#20851;&#32852;&#22806;&#38190;&#65292;&#29992;&#22788;&#26410;&#30693;&#65292;&#21487;&#33021;&#29992;&#20110;&#25903;&#25345;&#32487;&#25215;</p></li><li><p>owner_sid&#65292;&#23646;&#20027;&#65292;&#19982;ACL_SID&#23545;&#24212;</p></li></ol></div><p>&#36824;&#21097;&#19979;&#20004;&#20010;&#23383;&#27573;&#65306;</p><p>object_id_identity&#65292;&#34920;&#31034;&#25511;&#21046;&#30340;&#31867;&#30340;id&#21495;&#65292;&#19982;&#25968;&#25454;&#24211;&#37324;&#30340;&#20027;&#38190;&#23545;&#24212;</p><p>entries_inheriting&#65292;&#31867;&#22411;&#26159;boolean&#65292;&#29992;&#26469;&#26631;&#35760;&#26159;&#21542;&#20174;&#36229;&#31867;&#32487;&#25215;&#23646;&#24615;&#30340;&#21527;&#65311;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e927"></a>5.8.4.&nbsp;ACL_ENTRY&#65292;&#29992;&#26469;&#20445;&#23384;&#27599;&#20010;SID&#65288;&#29992;&#25143;&#65289;&#19982;OBJECT&#20043;&#38388;&#26435;&#38480;&#20851;&#31995;&#20102;</h3></div></div></div><p>&#20004;&#20010;&#22806;&#38190;&#65306;ACL_OBJECT_IDENTITY&#21644;SID&#19982;&#20004;&#20010;&#34920;&#36827;&#34892;&#22806;&#38190;&#20851;&#32852;&#65292;&#20174;&#36825;&#37324;&#21487;&#20197;&#30475;&#21040;&#65292;&#23454;&#38469;&#19978;&#23427;&#23601;&#26159;&#19968;&#20010;&#20013;&#38388;&#34920;&#32780;&#24050;&#65292;&#35753;&#20004;&#20010;&#34920;&#20570;&#22810;&#23545;&#22810;&#20851;&#31995;&#12290;</p><p>ace_order&#24212;&#35813;&#26159;&#25490;&#24207;&#21543;&#65311;</p><p>mask&#26159;&#29992;&#26469;&#30830;&#35748;&#26435;&#38480;&#65292;administrator, read, delete&#20197;&#21450;&#20854;&#20182;&#19968;&#20123;&#32452;&#21512;&#12290;</p><p>granting&#65292;boolean&#22411;&#65292;&#24212;&#35813;&#26159;&#21028;&#26029;&#26159;&#21542;&#36827;&#34892;&#20102;&#25480;&#26435;</p><p>audit_success&#65292;boolean&#22411;&#65292;&#19981;&#25026;&#20160;&#20040;&#24847;&#24605;</p><p>audit_failure&#65292;boolean&#22411;&#65292;&#19981;&#25026;&#20160;&#20040;&#24847;&#24605;</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="hibernate.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="struts2.html">&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">&#31532;&nbsp;4&nbsp;&#31456;&nbsp;Hibernate&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top">&nbsp;&#31532;&nbsp;6&nbsp;&#31456;&nbsp;Struts2</td></tr></table></div></body></html>