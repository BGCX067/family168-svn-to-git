<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>&#31532;&nbsp;21&nbsp;&#31456;&nbsp;&#27979;&#35797;</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><style type="text/css">
body { background-image: url('images/draft.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><link rel="start" href="index.html" title="Leona"><link rel="up" href="index.html" title="Leona"><link rel="prev" href="cache.html" title="&#31532;&nbsp;20&nbsp;&#31456;&nbsp;&#32531;&#23384;"><link rel="next" href="etc.html" title="&#31532;&nbsp;22&nbsp;&#31456;&nbsp;&#26434;&#39033;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" xmlns:fo="http://www.w3.org/1999/XSL/Format" style="background-color:white;border:none;height:73px;border:1px solid black;"><a style="border:none;" href="http://www.family168.com/" title="Family168"><img src="images/family168.png" border="0"></img></a></div><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">&#31532;&nbsp;21&nbsp;&#31456;&nbsp;&#27979;&#35797;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="cache.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="etc.html">&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="chapter" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title"><a name="test"></a>&#31532;&nbsp;21&nbsp;&#31456;&nbsp;&#27979;&#35797;</h2></div></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e2365"></a>21.1.&nbsp;TDD&#30340;&#22909;&#22788;</h2></div></div></div><p>&#27880;&#37325;&#23454;&#25928;&#30340;TDD&#30340;&#30830;&#33021;&#21152;&#24555;&#65292;&#32780;&#19981;&#26159;&#25302;&#24930;&#24320;&#21457;&#30340;&#36827;&#24230;&#65288;&#29255;&#38754;&#30340;&#36861;&#27714;&#35206;&#30422;&#29575;&#30340;&#20840;&#38754;UnitTest&#19981;&#22312;&#27492;&#21015;&#65289;</p><div class="orderedlist"><ol type="1"><li><p>&#21487;&#20197;&#23454;&#29616;&#30495;&#27491;&#20998;&#23618;&#24320;&#21457;&#12290;</p></li><li><p>&#19981;&#38656;&#35201;&#20381;&#36182;&#21644;&#39057;&#32321;&#37325;&#21551;Web Container&#12290;</p></li><li><p>&#25163;&#24037;&#27979;&#35797;&#24635;&#19981;&#20813;&#25913;&#21160;&#25968;&#25454;&#24211;&#65292;&#22914;&#20309;&#25226;&#25968;&#25454;&#24211;&#24674;&#22797;&#21040;&#27979;&#35797;&#21069;&#30340;&#29366;&#24577;&#26159;&#20214;&#20260;&#33041;&#31563;&#30340;&#20107;&#24773;&#12290;Unit Test&#21487;&#20197;&#20351;&#29992;&#33258;&#21160;Rollback&#26426;&#21046;&#65292;&#24039;&#22937;&#30340;&#35299;&#20915;&#20102;&#36825;&#20214;&#20107;&#24773;&#12290;</p></li></ol></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2375"></a>21.1.1.&nbsp;&#21333;&#20803;&#27979;&#35797;&#30340;&#20004;&#31181;&#39118;&#26684;</h3></div></div></div><div class="sect3" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="d4e2377"></a>21.1.1.1.&nbsp;&#32431;MockObject&#30340;&#39118;&#26684;</h4></div></div></div><p>Rod&#30340;&lt;Professional J2EE with Spring&gt;&#30340;&#20363;&#23376;&#21363;&#26159;&#36825;&#31181;&#39118;&#26684;&#12290;&#36825;&#31181;&#39118;&#26684;&#19981;&#20381;&#36182;Spring&#19982;ApplicationContext&#65292;&#23436;&#20840;&#32477;&#23545;&#30340;&#20998;&#23618;&#24320;&#21457;&#12290;&#20294;&#32570;&#28857;&#26159;&#38656;&#35201;&#25163;&#24037;&#27880;&#20837;&#25152;&#26377;&#20381;&#36182;bean&#65292;&#25163;&#24037;&#35774;&#32622;&#25152;&#26377;&#20986;&#22330;&#23545;&#35937;&#30340;&#26041;&#27861;&#21644;&#20551;&#23450;&#36820;&#22238;&#20540;&#65292;&#20195;&#30721;&#37327;&#38750;&#24120;&#24040;&#22823;&#65292;&#32780;&#19988;&#36825;&#31181;Mock UT&#31163;&#23454;&#38469;&#29615;&#22659;&#24456;&#36828;&#65292;&#20173;&#28982;&#38656;&#35201;&#20877;&#20889;&#19968;&#22871;&#38598;&#25104;&#27979;&#35797;&#30340;Test Case&#12290;</p><p>&#20248;&#28857;&#26159;&#36895;&#24230;&#24555;&#65292;&#21487;&#20197;&#20445;&#35777;&#27979;&#35797;&#29615;&#22659;&#30340;&#31283;&#23450;&#65292;&#21333;&#20803;&#27979;&#35797;&#30340;&#26041;&#27861;&#19981;&#20250;&#21463;&#21040;&#20854;&#20182;&#22806;&#37096;&#20381;&#36182;&#30340;&#24433;&#21709;&#12290;</p></div><div class="sect3" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="d4e2381"></a>21.1.1.2.&nbsp;Pragmatic&#39118;&#26684;</h4></div></div></div><p>&#20351;&#29992;Spring Test&#21152;&#36733;applicationContext&#65292;&#33258;&#21160;&#27880;&#20837;&#25152;&#26377;&#27979;&#35797;&#23545;&#35937;&#65292;&#24182;&#21033;&#29992;&#30495;&#23454;&#23545;&#35937;&#36827;&#34892;&#27979;&#35797;&#12290;&#36825;&#26679;&#30340;&#22909;&#22788;&#26159;&#24320;&#21457;&#20154;&#21592;&#21487;&#20197;&#19987;&#27880;&#20110;&#27979;&#35797;&#26816;&#39564;&#20195;&#30721;&#30340;&#32534;&#20889;&#12290;</p><p>&#37325;&#36733;public String[] getConfigLocations()&#26041;&#27861;&#38480;&#23450;applicationContext&#65292;&#21152;&#19978;lazy-load&#21487;&#20197;&#27599;&#27425;&#21482;&#21152;&#36733;&#20381;&#36182;&#30340;&#30340;&#23545;&#35937;&#29615;&#22659;&#12290;&#22823;&#22823;&#25552;&#39640;&#27979;&#35797;&#25928;&#29575;&#12290;</p><p>Spring Test&#36824;&#21487;&#20197;&#23545;&#21152;&#36733;&#30340;applicationContext&#36827;&#34892;&#32531;&#23384;&#65292;&#19981;&#29992;&#32473;&#27599;&#20010;&#27979;&#35797;&#26041;&#27861;&#37117;&#21019;&#24314;&#19968;&#27425;&#23436;&#25972;&#29615;&#22659;&#65292;&#36827;&#19968;&#27493;&#25552;&#39640;&#25928;&#29575;&#12290;</p></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2386"></a>21.1.2.&nbsp;&#27979;&#35797;&#29992;&#20363;&#20998;&#19977;&#31867;</h3></div></div></div><div class="sect3" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="d4e2388"></a>21.1.2.1.&nbsp;&#21333;&#20803;&#27979;&#35797;</h4></div></div></div><p>&#20351;&#29992;JUnit 3.8 + EasyMock&#65292;Mock&#25481;&#25152;&#26377;&#20381;&#36182;&#31867;&#65292;&#20005;&#26684;&#38548;&#32477;&#20854;&#20182;&#31867;&#23545;&#26412;&#31867;&#30340;&#24433;&#21709;&#12290;</p></div><div class="sect3" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="d4e2391"></a>21.1.2.2.&nbsp;&#38598;&#25104;&#27979;&#35797;</h4></div></div></div><p>&#20351;&#29992;JUnit 3.8 + Spring&#30340;TestContext Framework&#65292;&#27880;&#20837;&#20854;&#20182;&#20381;&#36182;Bean&#65292;&#20351;&#29992;&#23454;&#38469;&#25968;&#25454;&#24211;&#36827;&#34892;&#27979;&#35797;&#12290;</p><p>&#38598;&#25104;&#27979;&#35797;&#20250;&#20381;&#36182;&#20854;&#20182;&#30340;&#20381;&#36182;&#31867;&#65292;&#19981;&#33021;&#21333;&#29420;&#27979;&#35797;&#12290;&#20294;&#20248;&#28857;&#26159;&#19981;&#29992;&#20889;&#22826;&#22810;&#30340;Mock&#35821;&#21477;&#65292;&#20063;&#33021;&#27979;&#35797;&#20960;&#20010;&#31867;&#38598;&#25104;&#36215;&#26469;&#30340;&#25928;&#26524;&#65292;&#25152;&#20197;&#27979;&#35797;&#25928;&#29575;&#20063;&#20250;&#27604;&#36739;&#39640;&#12290;</p><p>Spring 2.5&#30340;&#20381;&#36182;&#27979;&#35797;&#29992;&#20363;&#25903;&#25345;ApplicationContext&#20381;&#36182;&#27880;&#20837;&#65292;&#20107;&#21153;&#33258;&#21160;&#22238;&#28378;&#31561;&#21151;&#33021;(&#20063;&#21487;&#35774;&#32622;&#19981;&#22238;&#28378;)&#65292;&#35814;&#35265;Spring 2.5 &#38598;&#25104;&#27979;&#35797;&#36164;&#26009;&#12290;</p><p>&#21478;Apache Commons Lang&#30340;RandomStringUtils&#21487;&#25552;&#20379;&#27979;&#35797;&#26102;&#26576;&#20123;Unique&#23383;&#27573;&#30340;&#38543;&#26426;&#25968; &#12290;</p></div><div class="sect3" lang="zh-cn"><div class="titlepage"><div><div><h4 class="title"><a name="d4e2397"></a>21.1.2.3.&nbsp;&#21151;&#33021;&#27979;&#35797;</h4></div></div></div><p>&#20381;&#29031;&#27979;&#35797;&#29992;&#20363;&#25991;&#26723;&#65292;&#20351;&#29992;SoapUI&#65292;Selenium&#36825;&#20123;&#22806;&#37096;&#24037;&#20855;&#25110;&#32773;&#32431;&#25163;&#24037;&#36827;&#34892;&#27979;&#35797;&#12290;</p></div><p>&#19978;&#36848;&#19977;&#31867;&#27979;&#35797;&#65292;&#23545;&#38382;&#39064;&#30340;&#23450;&#20301;&#36234;&#26469;&#36234;&#31548;&#32479;&#65292;&#20294;&#23545;&#20135;&#21697;&#26368;&#21518;&#36136;&#37327;&#30340;&#27979;&#35797;&#25928;&#29575;&#21017;&#36234;&#26469;&#36234;&#39640;&#12290;&#22312;&#22269;&#20869;&#29616;&#29366;&#20013;&#65292;&#22823;&#21147;&#25552;&#20513;TDD&#30340;&#21516;&#26102;&#65292;&#36824;&#19981;&#21487;&#33021;&#20005;&#26684;&#35201;&#27714;&#22823;&#23478;&#24517;&#39035;&#32534;&#20889;&#36275;&#22815;&#30340;&#27979;&#35797;&#29992;&#20363;&#65292;&#24895;&#24847;&#20889;&#27979;&#35797;&#30340;&#21516;&#24535;&#24050;&#32463;&#26159;&#22909;&#21516;&#24535;&#20102;&#12290;</p></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e2401"></a>21.2.&nbsp;JUnit 3.8 vs JUnit 4.5</h2></div></div></div><p>JUnit 4&#25171;&#30772;&#20102;&#21407;&#26469;&#30340;&#32487;&#25215;&#20307;&#31995;&#65292;&#32431;&#20197;annotation&#26631;&#27880;&#12290;&#20294;&#26159;&#23545;&#27599;&#20010;&#26041;&#27861;&#19978;&#22810;&#20986;&#26469;&#30340;@Test&#26377;&#20123;&#21453;&#24863;&#65292;&#25152;&#20197;&#20381;&#28982;&#37319;&#29992;JUnit 3&#30340;&#26041;&#27861;&#21629;&#21517;&#26041;&#24335;&#12290;</p><p>&#22914;&#26524;&#24819;&#29992;JUnit 4&#37324;&#30340;&#29305;&#24615;&#65292;&#21487;&#20197;&#29992;Spring&#20026;JUnit 3&#25552;&#20379;&#30340;@IfProfileValue(&#31526;&#21512;&#26465;&#20214;&#25165;&#36816;&#34892;)&#65292;@ExpectedException(&#26399;&#26395;&#24322;&#24120;)&#65292;@Timed(&#36229;&#26102;&#25511;&#21046;)&#12290;&#36825;&#20123;&#19996;&#35199;&#30475;&#36215;&#26469;&#37117;&#24456;&#19981;&#38169;&#65292;&#21487;&#24796;&#23454;&#38469;&#20013;&#36824;&#27809;&#30495;&#27491;&#29992;&#36807;&#12290;</p></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e2405"></a>21.3.&nbsp;EasyMock</h2></div></div></div><p>MockObject&#26159;&#19968;&#26679;&#24443;&#24213;&#20998;&#23618;&#24320;&#21457;&#30340;&#22909;&#19996;&#35199;&#65292;&#32780;&#19988;&#20351;&#29992;&#19978;&#27809;&#20160;&#20040;&#38590;&#24230;&#12290;&#32780;&#19988;&#24050;&#19981;&#20877;&#23384;&#22312;&#21482;&#25903;&#25345;&#25509;&#21475;&#19981;&#25903;&#25345;Class&#30340;&#38480;&#21046;&#12290;</p><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2408"></a>21.3.1.&nbsp;EasyMock VS JMock</h3></div></div></div><p>JMock&#35201;&#27714;TestCase&#32487;&#25215;&#20110;MockObjectTestCase&#22826;&#38712;&#36947;&#20102;&#12290;&#22952;&#30861;&#20102;&#25105;&#20204;&#32487;&#25215;&#33258;&#24049;&#32534;&#20889;&#30340;&#36229;&#31867;&#12290;&#22240;&#27492;&#37319;&#29992;&#27809;&#37027;&#20040;&#38712;&#36947;&#30340;easyMock&#12290;</p><p>&#21478;&#22806;&#65292;easyMock&#30340;&#33050;&#26412;&#24405;&#21046;&#34429;&#19981;&#22914;jmock&#37027;&#20040;&#20248;&#32654;&#65292;&#20294;&#32988;&#22312;&#31616;&#30701;&#26131;&#35835;&#12290;jmock&#37027;&#21477;&#22826;&#38271;&#20102;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2412"></a>21.3.2.&nbsp;&#20351;&#29992;</h3></div></div></div><p>&#20351;&#29992;jdk5&#20013;&#25552;&#20379;&#30340;static import&#20943;&#23569;&#20195;&#30721;&#38271;&#24230;&#65292;&#20877;&#29992;classextension&#35753;easymock&#25903;&#25345;&#20223;&#36896;class&#12290;</p><pre class="programlisting">
import start org.easymock.classextension.EasyMock.*;
            </pre><p>&#23548;&#20837;&#20197;&#21518;&#20998;&#19977;&#27493;&#20351;&#29992;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>createMock()</p></li><li><p>expect()</p><p>replay()</p></li><li><p>verify()</p></li></ul></div><pre class="programlisting">
UserManager userManager = createMock(UserManager.class);
expect(userManager.get(1L)).andReturn(new User());
replay(userManager);
User user = userManager.get(1L);
assertNotNull(user);
verify(userManager);
            </pre></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e2426"></a>21.4.&nbsp;Spring Test</h2></div></div></div><p>&#20851;&#20110;Spring&#30340;&#21333;&#20803;&#27979;&#35797;&#25991;&#26723;&#35814;&#32454;&#35831;&#30475; &#28385;&#27743;&#32418;&#32763;&#35793;Spring2.0 &#21442;&#32771;&#25163;&#20876;&#31532;8&#31456;&#27979;&#35797;&#12290;</p><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2429"></a>21.4.1.&nbsp;Spring&#19979;&#30340;Unit Test</h3></div></div></div><p>Spring&#19979;&#30340;Unit Test&#20027;&#35201;&#20851;&#27880;&#19977;&#20010;&#26041;&#38754;&#65306;</p><div class="orderedlist"><ol type="1"><li><p>bean&#30340;&#20381;&#36182;&#27880;&#20837;</p></li><li><p>&#20107;&#21153;&#25511;&#21046;&#65292;Open Session in Test&#21450;&#40664;&#35748;&#22238;&#28378;</p></li><li><p>&#33073;&#31163;WebContainer&#23545;&#25511;&#21046;&#23618;&#30340;&#27979;&#35797;</p></li></ol></div><p>&#20351;&#29992;spring-test&#25552;&#20379;&#30340;&#20960;&#20010;&#36229;&#31867;&#38750;&#24120;&#26377;&#22909;&#22788;&#65292;spring&#25552;&#20379;&#20102;&#21487;&#20197;&#19968;&#27425;&#35835;&#21462;xml&#24182;&#32531;&#23384;&#30340;&#26426;&#21046;&#65292;&#35753;&#25152;&#26377;testCase&#37117;&#21487;&#20197;&#20849;&#20139;&#21516;&#19968;&#20221;applicationContext&#65292;&#22823;&#22823;&#21152;&#24555;&#20102;&#27979;&#35797;&#36895;&#24230;&#12290;</p><p>&#38656;&#35201;&#27880;&#24847;&#30340;&#26159;&#33719;&#24471;ctx&#32531;&#23384;&#30340;key&#26159;&#26681;&#25454;getConfigLocation()&#33719;&#24471;&#30340;&#65292;&#22914;&#26524;&#22312;&#23376;&#31867;&#20013;&#35206;&#30422;&#20102;&#36825;&#20010;&#26041;&#27861;&#65292;&#36820;&#22238;&#19981;&#21516;&#30340;&#25968;&#20540;&#65292;&#20250;&#23548;&#33268;&#37325;&#26032;&#21152;&#36733;&#12290;&#21516;&#26679;&#30340;&#22914;&#26524;&#19981;&#35206;&#30422;&#26041;&#27861;&#36820;&#22238;&#19981;&#21516;&#20540;&#65292;&#37027;&#20040;&#20351;&#29992;&#30340;&#37117;&#26159;&#21516;&#19968;&#20221;ctx&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2441"></a>21.4.2.&nbsp;&#20026;&#27979;&#35797;&#27880;&#20837;&#20381;&#36182;</h3></div></div></div><p>&#20026;&#20102;&#27979;&#35797;Spring&#31649;&#29702;&#19979;&#30340;Bean&#65292;&#21487;&#20197;&#32487;&#25215;&#20110;AbstractDependencyInjectionSpringContextTests&#65292;&#23454;&#29616;public String[] getConfigLocations()&#20989;&#25968;&#65292; &#36820;&#22238;applicationContext&#25991;&#20214;&#36335;&#24452;&#30340;&#25968;&#32452;&#12290;</p><pre class="programlisting">
protected String[] getConfigLocations() {
    return new String[]{"classpath*:spring/*.xml",  "classpath*:spring/test/*.xml"};
}
            </pre><p>&#24182;&#26174;&#24335;&#20889;&#19968;&#20123;&#38656;&#35201;&#27880;&#20837;&#30340;&#21464;&#37327;&#30340;setter&#20989;&#25968;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>tips1&#65306;&#27492;&#22522;&#31867;&#26377;&#19968;&#20010;applicationContext&#30340;&#25104;&#21592;&#21464;&#37327;&#65292;&#25152;&#20197;&#38500;&#20102;&#20381;&#38752;setter&#27880;&#20837;&#22806;&#65292;&#36824;&#21487;&#20197;&#38543;&#26102;&#29992;applicationContext.getBean(String beanName) &#21462;&#20986;&#25152;&#38656;&#30340;bean&#12290;</p></li><li><p>tips2&#65306;&#27880;&#24847;&#27492;&#22522;&#31867;&#40664;&#35748;&#26159;autowire by type&#30340;&#65292;&#25152;&#20197;&#22914;&#26524;context&#25991;&#20214;&#37324;&#26377;&#20004;&#20010;&#30456;&#21516;&#31867;&#22411;&#30340;Bean&#23601;&#20250;&#25253;&#38169;&#65292;&#21487;&#33021;&#38656;&#35201;&#22312;getConfigLocations()&#20989;&#25968;&#37324;&#65292;setAutowireMode(AUTOWIRE_BY_NAME);&#25226;&#23427;&#35774;&#22238;by name&#65292;&#25110;&#32773;&#21462;&#28040;setter&#20989;&#25968;&#65292;&#33258;&#34892;&#29992;applicationContext.getBean()&#26469;&#26174;&#24335;&#26597;&#25214;Bean&#12290;</p></li></ul></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2451"></a>21.4.3.&nbsp;&#27979;&#35797;service&#23618;</h3></div></div></div><p>AbstractTransactionalDataSourceSpringContextTests&#32487;&#25215;&#20110;AbstractDependencyInjectionSpringContextTests&#65292;&#38500;&#20102;&#25317;&#26377;&#19978;&#31867;&#30340;&#33021;&#21147;&#22806;&#65292;&#36824;&#31649;&#29702;&#20102;&#27599;&#20010;&#27979;&#35797;&#30340;&#20107;&#21153;&#65292;&#20250;Open Session In Test&#65292;&#36824;&#20250;&#22312;&#27599;&#20010;&#27979;&#35797;&#21518;&#40664;&#35748;&#22238;&#28378;&#25152;&#26377;&#30340;&#25805;&#20316;&#12290;</p><p>&#27492;&#31867;&#30340;&#23454;&#29616;&#20854;&#23454;&#20381;&#36182;&#20110;Application Context&#20013;&#23450;&#20041;&#30340;PlatformTransactionManager&#12290;&#30001;&#20110;&#20351;&#29992;&#20102;Autowrie by type&#65292;PlatformTransactionManager&#21487;&#20197;&#20219;&#24847;&#21462;&#21517;&#12290;</p><p>&#21478;&#22806;&#36824;&#20381;&#36182;&#20110;Application Context&#20013;&#23450;&#20041;&#30340;DataSource&#65292;&#21516;&#26679;&#21487;&#20197;&#20219;&#24847;&#21462;&#21517;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>tips1&#65306;&#22914;&#26524;&#38656;&#35201;&#22312;&#27979;&#35797;&#21518;&#25552;&#20132;&#65292;&#38656;&#35201;setRollBack(false); &#25110;&#32773;&#35843;&#29992;setComplete(); &#27880;&#24847;&#22914;&#26524;&#27809;&#26377;&#25552;&#20132;&#65292;hibernate&#36825;&#26679;&#22904;&#35784;&#30340;Framework&#23601;&#19981;&#20250;&#21435;&#23454;&#38469;&#25805;&#20316;&#25968;&#25454;&#24211;&#65292;&#38477;&#20302;&#20102;&#27979;&#35797;&#30340;&#25928;&#26524;&#12290;</p></li><li><p>tips2&#65306;&#27492;&#22522;&#31867;&#36824;&#36890;&#36807;&#27880;&#20837;&#30340;DataSource&#21019;&#24314;&#20102;&#19968;&#20010;JDBCTemplate&#21464;&#37327;&#65292;&#21487;&#20197;&#36305;SQL&#24110;&#24537;&#26680;&#23545;Hibernate&#30340;&#32467;&#26524;&#65292;Spring&#23558;&#30830;&#20445;&#35813;&#26597;&#35810;&#22312;&#21516;&#19968;&#20010;&#20107;&#21153;&#20869;&#25191;&#34892;&#12290;&#20026;&#27491;&#24120;&#24037;&#20316;&#20320;&#38656;&#35201;&#21578;&#35785;&#20320;&#30340;ORM&#24037;&#20855;'&#21047;&#26032;'&#23427;&#30340;&#24050;&#25913;&#21464;&#20869;&#23481;&#65292;&#20363;&#22914;&#20351;&#29992;Hibernate Session&#25509;&#21475;&#30340;flush() &#26041;&#27861;&#12290;</p></li><li><p>tips3&#65306;&#38500;&#20102;tips2&#20197;&#22806;&#65292;&#35813;&#31867;&#36824;&#26377;countRowsInTable(String tableName)&#65292;deleteFromTables(String[] names) &#65292;executeSqlScript(String sqlResourcePath, boolean continueOnError)&#19977;&#20010;&#31616;&#20415;&#20989;&#25968;&#12290;</p></li></ul></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2463"></a>21.4.4.&nbsp;&#27979;&#35797;action&#23618;</h3></div></div></div><p>action&#23618;&#38656;&#35201;&#29992;Spring&#25552;&#20379;&#30340;&#20960;&#20010;mock&#23545;&#35937;&#20223;&#36896;&#35831;&#27714;&#12290;</p><p>&#22240;&#20026;action&#19981;&#21547;&#22826;&#22810;&#30340;&#36923;&#36753;&#65292;&#25152;&#26377;&#27979;&#35797;controller&#26377;&#28857;&#21507;&#21147;&#19981;&#35752;&#22909;&#65292;&#24314;&#35758;&#30452;&#25509;&#29992;Selenium&#36827;&#34892;&#38598;&#25104;&#27979;&#35797;&#12290;</p></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2467"></a>21.4.5.&nbsp;&#20351;&#29992;annotation&#36827;&#34892;&#27979;&#35797;<span class="emphasis"><em>&#65288;&#24453;&#30740;&#31350;&#65289;</em></span></h3></div></div></div></div><div class="sect2" lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a name="d4e2470"></a>21.4.6.&nbsp;&#23553;&#35013;Spring Test</h3></div></div></div><p>&#22240;&#20026;Spring&#30340;&#31867;&#21517;&#19968;&#36143;&#28165;&#26224;&#20294;&#36229;&#38271;&#65292;&#25152;&#20197;&#25277;&#21462;&#20102;&#20197;&#19979;&#19977;&#20010;&#22522;&#31867;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>SpringAnnoatationCase&#65306;&#25903;&#25345;Spring&#30340;@IfProfileValue(&#31526;&#21512;&#26465;&#20214;&#25165;&#36816;&#34892;),@ExpectedException(&#26399;&#26395;&#24322;&#24120;),@Timed(&#36229;&#26102;&#25511;&#21046;) &#31561;annotation&#12290;</p></li><li><p>SpringContextTestCase&#65306;&#22312;SpringAnnotationContext&#30340;&#22522;&#30784;&#19978;&#65292;&#40664;&#35748;&#36733;&#20837;&#20102;/applicationContext.xml&#65292;&#22312;&#23376;&#31867;&#23450;&#20041;&#26356;&#22810;&#30340;applicationContext-*.xml&#25991;&#20214;&#26102;&#65292;SpringTestCase&#22522;&#31867;&#31867;&#23450;&#20041;&#30340;applicationContext.xml &#20250;&#34987;&#40664;&#35748;&#32487;&#25215;&#12290;</p></li><li><p>SpringTranscationTestCase&#65306;&#22312;SpringContextTest&#30340;&#22522;&#30784;&#19978;&#65292;&#25903;&#25345;&#20107;&#21153;&#22238;&#28378;&#65292;&#21478;&#22806;&#36824;&#25552;&#20379;&#20102;&#19968;&#20010;flush()&#20989;&#25968;&#65292;&#22240;&#20026;Hibernate&#21482;&#26377;&#20107;&#21153;&#25552;&#20132;&#26102;&#25165;&#20250;&#25191;&#34892; SQL&#65292;&#20026;&#20102;&#39564;&#35777;&#20320;&#30340;ORM&#27491;&#30830;&#24615;&#65292;&#24517;&#39035;&#24120;&#24120;&#25191;&#34892;flush&#24378;&#21046;hibernate&#25191;&#34892;SQL&#12290;&#19981;&#36807;&#21482;&#35201;&#19981;&#25191;&#34892;&#25552;&#20132;,sql&#25191;&#34892;&#30340;&#32467;&#26524;&#19981;&#20250;&#24433;&#21709;&#27979;&#35797;&#25968;&#25454;&#24211;&#30340;&#23454;&#38469;&#25968;&#25454;&#12290;</p></li></ul></div></div></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e2480"></a>21.5.&nbsp;&#26174;&#31034;&#23618;&#27979;&#35797;</h2></div></div></div><p>&#20542;&#21521;&#20351;&#29992;selenium&#65292;&#20294;&#26159;&#21457;&#23637;&#36807;&#20110;&#32531;&#24930;&#65292;&#33267;&#20170;&#20026;&#27490;&#20063;&#27809;&#26377;1.0&#21457;&#24067;&#30340;&#39118;&#21561;&#33609;&#21160;&#12290;</p></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e2483"></a>21.6.&nbsp;&#21387;&#21147;&#27979;&#35797;</h2></div></div></div><p>&#32771;&#34385;&#29992;jmeter&#12290;</p><p>&#21387;&#21147;&#27979;&#35797;&#24037;&#20855;&#65292;&#35980;&#20284;&#23458;&#25143;&#19968;&#33324;&#21482;&#35748;LoadRunner&#30340;&#32467;&#26524;&#65292;&#20854;&#20182;&#30340;&#24320;&#28304;&#24037;&#20855;&#32467;&#26524;&#37117;&#19981;&#24590;&#20040;&#25307;&#20154;&#24453;&#35265;&#12290;</p></div><div class="sect1" lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e2487"></a>21.7.&nbsp;SoapUI<span class="emphasis"><em>&#65288;&#24453;&#30740;&#31350;&#65289;</em></span></h2></div></div></div><p>Soap UI&#21487;&#20197;&#20316;&#20026;&#24320;&#21457;&#20154;&#21592;&#12289;&#27979;&#35797;&#20154;&#21592;&#20849;&#29992;&#30340;&#24320;&#21457;&#35843;&#35797;&#19982;&#33258;&#21160;&#27979;&#35797;&#24037;&#20855;&#12290;&#22312;mini-service/src/test/soapui &#23384;&#25918;&#30528;&#19968;&#20010;&#31034;&#20363;&#30340;&#39033;&#30446;&#25991;&#20214;&#65292;&#20854;&#20013;CRUDTest &#26159;&#32463;&#20856;&#30340;&#27979;&#35797;&#20889;&#27861;&#65306;</p><div class="orderedlist"><ol type="1"><li><p>&#20808;&#29992;Groovy&#29983;&#25104;&#19968;&#20010;&#38543;&#26426;&#30340;loginName(&#22240;&#20026;&#19994;&#21153;&#35268;&#21017;&#35201;&#27714;&#19981;&#33021;&#37325;&#22797;).</p></li><li><p>&#20351;&#29992;&#23646;&#24615;&#36716;&#25442;&#22120;&#23558;&#19978;&#19968;&#27493;Groovy&#33050;&#26412;&#30340;&#32467;&#26524;&#65292;&#20256;&#32473;&#19979;&#19968;&#27493;&#30340;createUser&#30340;&#35831;&#27714;&#21442;&#25968;loginName.</p></li><li><p>&#25191;&#34892;createUser.</p></li><li><p>&#20351;&#29992;&#23646;&#24615;&#36716;&#25442;&#22120;&#23558;&#19978;&#19968;&#27493;createUser&#36820;&#22238;&#32467;&#26524;&#20013;&#30340;userID&#65292;&#20256;&#32473;&#19979;&#19968;&#27493;GetUser&#35831;&#27714;&#21442;&#25968;id.</p></li><li><p>&#25191;&#34892;getUser.</p></li><li><p>&#22312;getUser&#30340;Assert&#35821;&#21477;&#20013;&#21152;&#20837;&#23545;&#36820;&#22238;&#32467;&#26524;&#20013;&#30340;loginName&#30340;&#21028;&#26029;&#65292;&#35201;&#31561;&#20110;createUser&#30340;&#35831;&#27714;&#21442;&#25968;loginName</p></li></ol></div><p>&#22914;&#26524;&#26377;&#26465;&#20214;&#65292;&#23613;&#37327;&#20351;&#29992;Soap UI Pro&#65292;&#22240;&#20026;&#37027;&#20123;XPath&#20889;&#36215;&#26469;&#36824;&#26159;&#26377;&#20123;&#38590;&#24230;&#30340;&#65292;&#29992;&#20102;Pro&#65292;&#23601;&#33021;&#38543;&#26102;&#22270;&#24418;&#21270;&#30340;&#36827;&#34892;&#33410;&#28857;&#36873;&#25321;&#12290;&#27604;&#22914;&#23545;&#30528;&#19968;&#20010;&#36820;&#22238;&#32467;&#26524;&#30340;&#23646;&#24615;&#28857;&#21491;&#38190;&#65292;&#36873;assert Conent &#23601;&#24456;&#26041;&#20415;&#12290;</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="cache.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="etc.html">&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">&#31532;&nbsp;20&nbsp;&#31456;&nbsp;&#32531;&#23384;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top">&nbsp;&#31532;&nbsp;22&nbsp;&#31456;&nbsp;&#26434;&#39033;</td></tr></table></div></body></html>