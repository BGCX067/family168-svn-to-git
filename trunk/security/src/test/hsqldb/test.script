CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE ACL_CLASS(ID BIGINT NOT NULL PRIMARY KEY,SID VARCHAR(100),CONSTRAINT SYS_CT_328 UNIQUE(ID))
CREATE MEMORY TABLE ACL_ENTRY(ID BIGINT NOT NULL PRIMARY KEY,ACE_ORDER INTEGER,AUDIT_FAILURE INTEGER,AUDIT_SUCCESS INTEGER,GRANTING INTEGER,MASK INTEGER,ACL_OBJECT_IDENTITY BIGINT,SID BIGINT,CONSTRAINT SYS_CT_332 UNIQUE(ID))
CREATE MEMORY TABLE ACL_OJBECT_IDENTITY(ID BIGINT NOT NULL PRIMARY KEY,ENTRIES_INHERITING INTEGER,OBJECT_ID_IDENTITY BIGINT,PARENT_OBJECT BIGINT,OWNER_SID BIGINT,OBJECT_ID_CLASS BIGINT,CONSTRAINT SYS_CT_336 UNIQUE(ID),CONSTRAINT FK336308D91F118293 FOREIGN KEY(PARENT_OBJECT) REFERENCES ACL_OJBECT_IDENTITY(ID),CONSTRAINT FK336308D990F1A88A FOREIGN KEY(OBJECT_ID_CLASS) REFERENCES ACL_CLASS(ID))
CREATE MEMORY TABLE ACL_SID(ID BIGINT NOT NULL PRIMARY KEY,PRINCIPAL INTEGER,SID VARCHAR(100),CONSTRAINT SYS_CT_340 UNIQUE(ID))
CREATE MEMORY TABLE DEPT(ID BIGINT NOT NULL PRIMARY KEY,DESCN VARCHAR(200),NAME VARCHAR(50),THE_SORT INTEGER,PARENT_ID BIGINT,CONSTRAINT SYS_CT_344 UNIQUE(ID),CONSTRAINT FK1FF64516A2C63D FOREIGN KEY(PARENT_ID) REFERENCES DEPT(ID))
CREATE MEMORY TABLE MENU(ID BIGINT NOT NULL PRIMARY KEY,DESCN VARCHAR(200),IMAGE VARCHAR(50),NAME VARCHAR(50),QTIP VARCHAR(50),THE_SORT INTEGER,URL VARCHAR(50),PARENT_ID BIGINT,CONSTRAINT SYS_CT_348 UNIQUE(ID),CONSTRAINT FK240D5F16A6DD57 FOREIGN KEY(PARENT_ID) REFERENCES MENU(ID))
CREATE MEMORY TABLE MENU_ROLE(ROLE_ID BIGINT NOT NULL,MENU_ID BIGINT NOT NULL,PRIMARY KEY(MENU_ID,ROLE_ID),CONSTRAINT FK4CD9A756D3E59882 FOREIGN KEY(MENU_ID) REFERENCES MENU(ID))
CREATE MEMORY TABLE RESC(ID BIGINT NOT NULL PRIMARY KEY,DESCN VARCHAR(200),NAME VARCHAR(50),RES_STRING VARCHAR(200),RES_TYPE VARCHAR(50),CONSTRAINT SYS_CT_354 UNIQUE(ID))
CREATE MEMORY TABLE RESC_ROLE(ROLE_ID BIGINT NOT NULL,RESC_ID BIGINT NOT NULL,PRIMARY KEY(RESC_ID,ROLE_ID),CONSTRAINT FK1BF7BF72DCA54E02 FOREIGN KEY(RESC_ID) REFERENCES RESC(ID))
CREATE MEMORY TABLE ROLE(ID BIGINT NOT NULL PRIMARY KEY,DESCN VARCHAR(200),NAME VARCHAR(50) NOT NULL,CONSTRAINT SYS_CT_360 UNIQUE(ID),CONSTRAINT SYS_CT_361 UNIQUE(NAME))
CREATE MEMORY TABLE USER(ID BIGINT NOT NULL PRIMARY KEY,DESCN VARCHAR(200),PASSWORD VARCHAR(50),STATUS INTEGER,USERNAME VARCHAR(50),DEPT_ID BIGINT,CONSTRAINT SYS_CT_366 UNIQUE(ID),CONSTRAINT FK27E3CBF7E526C2 FOREIGN KEY(DEPT_ID) REFERENCES DEPT(ID))
CREATE MEMORY TABLE USER_ROLE(USER_ID BIGINT NOT NULL,ROLE_ID BIGINT NOT NULL,PRIMARY KEY(ROLE_ID,USER_ID),CONSTRAINT FKBC16F46A927EF102 FOREIGN KEY(USER_ID) REFERENCES USER(ID),CONSTRAINT FKBC16F46AED542D22 FOREIGN KEY(ROLE_ID) REFERENCES ROLE(ID))
ALTER TABLE ACL_ENTRY ADD CONSTRAINT FK2FB5F83D2AE8CE28 FOREIGN KEY(ACL_OBJECT_IDENTITY) REFERENCES ACL_OJBECT_IDENTITY(ID)
ALTER TABLE ACL_ENTRY ADD CONSTRAINT FK2FB5F83DB75131DA FOREIGN KEY(SID) REFERENCES ACL_SID(ID)
ALTER TABLE ACL_OJBECT_IDENTITY ADD CONSTRAINT FK336308D9B861C24E FOREIGN KEY(OWNER_SID) REFERENCES ACL_SID(ID)
ALTER TABLE ACL_OJBECT_IDENTITY ADD CONSTRAINT FK336308D927DAD360 FOREIGN KEY(OBJECT_ID_CLASS) REFERENCES ACL_SID(ID)
ALTER TABLE MENU_ROLE ADD CONSTRAINT FK4CD9A756ED542D22 FOREIGN KEY(ROLE_ID) REFERENCES ROLE(ID)
ALTER TABLE RESC_ROLE ADD CONSTRAINT FK1BF7BF72ED542D22 FOREIGN KEY(ROLE_ID) REFERENCES ROLE(ID)
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 10
SET SCHEMA PUBLIC
INSERT INTO MENU VALUES(1,NULL,NULL,NULL,NULL,NULL,NULL,NULL)
INSERT INTO MENU_ROLE VALUES(1,1)
INSERT INTO ROLE VALUES(1,NULL,'role2')
